"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sentry-internal";
exports.ids = ["vendor-chunks/@sentry-internal"];
exports.modules = {

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/common/debug-build.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEBUG_BUILD: () => (/* binding */ DEBUG_BUILD)\n/* harmony export */ });\n/**\n * This serves as a build time flag that will be true by default, but false in non-debug builds or if users replace `__SENTRY_DEBUG__` in their generated code.\n *\n * ATTENTION: This constant must never cross package boundaries (i.e. be exported) to guarantee that it can be used for tree shaking.\n */\nconst DEBUG_BUILD = ( false || false);\n\n\n//# sourceMappingURL=debug-build.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9jb21tb24vZGVidWctYnVpbGQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsTUFBdUMsSUFBSSxLQUFnQjs7QUFFekQ7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc21fYmFua2luZy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL2NvbW1vbi9kZWJ1Zy1idWlsZC5qcz84NGU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBzZXJ2ZXMgYXMgYSBidWlsZCB0aW1lIGZsYWcgdGhhdCB3aWxsIGJlIHRydWUgYnkgZGVmYXVsdCwgYnV0IGZhbHNlIGluIG5vbi1kZWJ1ZyBidWlsZHMgb3IgaWYgdXNlcnMgcmVwbGFjZSBgX19TRU5UUllfREVCVUdfX2AgaW4gdGhlaXIgZ2VuZXJhdGVkIGNvZGUuXG4gKlxuICogQVRURU5USU9OOiBUaGlzIGNvbnN0YW50IG11c3QgbmV2ZXIgY3Jvc3MgcGFja2FnZSBib3VuZGFyaWVzIChpLmUuIGJlIGV4cG9ydGVkKSB0byBndWFyYW50ZWUgdGhhdCBpdCBjYW4gYmUgdXNlZCBmb3IgdHJlZSBzaGFraW5nLlxuICovXG5jb25zdCBERUJVR19CVUlMRCA9ICh0eXBlb2YgX19TRU5UUllfREVCVUdfXyA9PT0gJ3VuZGVmaW5lZCcgfHwgX19TRU5UUllfREVCVUdfXyk7XG5cbmV4cG9ydCB7IERFQlVHX0JVSUxEIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJ1Zy1idWlsZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/apollo.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/apollo.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Apollo: () => (/* binding */ Apollo)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/node.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/object.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/misc.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/is.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\n/** Tracing integration for Apollo */\nclass Apollo  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Apollo';}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(\n    options = {\n      useNestjs: false,\n    },\n  ) {\n    this.name = Apollo.id;\n    this._useNest = !!options.useNestjs;\n  }\n\n  /** @inheritdoc */\n   loadDependency() {\n    if (this._useNest) {\n      this._module = this._module || (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.loadModule)('@nestjs/graphql');\n    } else {\n      this._module = this._module || (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.loadModule)('apollo-server-core');\n    }\n\n    return this._module;\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__.shouldDisableAutoInstrumentation)(getCurrentHub)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.log('Apollo Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    if (this._useNest) {\n      const pkg = this.loadDependency();\n\n      if (!pkg) {\n        _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('Apollo-NestJS Integration was unable to require @nestjs/graphql package.');\n        return;\n      }\n\n      /**\n       * Iterate over resolvers of NestJS ResolversExplorerService before schemas are constructed.\n       */\n      (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(\n        pkg.GraphQLFactory.prototype,\n        'mergeWithSchema',\n        function (orig) {\n          return function (\n\n            ...args\n          ) {\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(this.resolversExplorerService, 'explore', function (orig) {\n              return function () {\n                const resolvers = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__.arrayify)(orig.call(this));\n\n                const instrumentedResolvers = instrumentResolvers(resolvers, getCurrentHub);\n\n                return instrumentedResolvers;\n              };\n            });\n\n            return orig.call(this, ...args);\n          };\n        },\n      );\n    } else {\n      const pkg = this.loadDependency();\n\n      if (!pkg) {\n        _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('Apollo Integration was unable to require apollo-server-core package.');\n        return;\n      }\n\n      /**\n       * Iterate over resolvers of the ApolloServer instance before schemas are constructed.\n       */\n      (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(pkg.ApolloServerBase.prototype, 'constructSchema', function (orig) {\n        return function (\n\n) {\n          if (!this.config.resolvers) {\n            if (_common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD) {\n              if (this.config.schema) {\n                _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.warn(\n                  'Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.' +\n                    'If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead.',\n                );\n                _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.warn();\n              } else if (this.config.modules) {\n                _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.warn(\n                  'Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property.',\n                );\n              }\n\n              _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('Skipping tracing as no resolvers found on the `ApolloServer` instance.');\n            }\n\n            return orig.call(this);\n          }\n\n          const resolvers = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__.arrayify)(this.config.resolvers);\n\n          this.config.resolvers = instrumentResolvers(resolvers, getCurrentHub);\n\n          return orig.call(this);\n        };\n      });\n    }\n  }\n}Apollo.__initStatic();\n\n// eslint-disable-next-line deprecation/deprecation\nfunction instrumentResolvers(resolvers, getCurrentHub) {\n  return resolvers.map(model => {\n    Object.keys(model).forEach(resolverGroupName => {\n      Object.keys(model[resolverGroupName]).forEach(resolverName => {\n        if (typeof model[resolverGroupName][resolverName] !== 'function') {\n          return;\n        }\n\n        wrapResolver(model, resolverGroupName, resolverName, getCurrentHub);\n      });\n    });\n\n    return model;\n  });\n}\n\n/**\n * Wrap a single resolver which can be a parent of other resolvers and/or db operations.\n */\nfunction wrapResolver(\n  model,\n  resolverGroupName,\n  resolverName,\n  // eslint-disable-next-line deprecation/deprecation\n  getCurrentHub,\n) {\n  (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(model[resolverGroupName], resolverName, function (orig) {\n    return function ( ...args) {\n      // eslint-disable-next-line deprecation/deprecation\n      const scope = getCurrentHub().getScope();\n      // eslint-disable-next-line deprecation/deprecation\n      const parentSpan = scope.getSpan();\n      // eslint-disable-next-line deprecation/deprecation\n      const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__._optionalChain)([parentSpan, 'optionalAccess', _2 => _2.startChild, 'call', _3 => _3({\n        description: `${resolverGroupName}.${resolverName}`,\n        op: 'graphql.resolve',\n        origin: 'auto.graphql.apollo',\n      })]);\n\n      const rv = orig.call(this, ...args);\n\n      if ((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_7__.isThenable)(rv)) {\n        return rv.then((res) => {\n          (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__._optionalChain)([span, 'optionalAccess', _4 => _4.end, 'call', _5 => _5()]);\n          return res;\n        });\n      }\n\n      (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__._optionalChain)([span, 'optionalAccess', _6 => _6.end, 'call', _7 => _7()]);\n\n      return rv;\n    };\n  });\n}\n\n\n//# sourceMappingURL=apollo.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9hcG9sbG8uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQStDO0FBQ2dDO0FBQ3JCO0FBQ2U7O0FBRXpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHlEQUFVO0FBQy9DLE1BQU07QUFDTixxQ0FBcUMseURBQVU7QUFDL0M7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRkFBZ0M7QUFDeEMsTUFBTSwrREFBVyxJQUFJLGlEQUFNO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFFBQVEsK0RBQVcsSUFBSSxpREFBTTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbURBQUk7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxtREFBSTtBQUNoQjtBQUNBLGtDQUFrQyx1REFBUTs7QUFFMUM7O0FBRUE7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBLFFBQVEsK0RBQVcsSUFBSSxpREFBTTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbURBQUk7QUFDVjs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLCtEQUFXO0FBQzNCO0FBQ0EsZ0JBQWdCLGlEQUFNO0FBQ3RCO0FBQ0EsbUdBQW1HLGlCQUFpQjtBQUNwSDtBQUNBLGdCQUFnQixpREFBTTtBQUN0QixnQkFBZ0I7QUFDaEIsZ0JBQWdCLGlEQUFNO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLGlEQUFNO0FBQ3BCOztBQUVBO0FBQ0E7O0FBRUEsNEJBQTRCLHVEQUFROztBQUVwQzs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsbURBQUk7QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNkRBQWM7QUFDakMsd0JBQXdCLGtCQUFrQixHQUFHLGFBQWE7QUFDMUQ7QUFDQTtBQUNBLE9BQU87O0FBRVA7O0FBRUEsVUFBVSx5REFBVTtBQUNwQjtBQUNBLFVBQVUsNkRBQWM7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsTUFBTSw2REFBYzs7QUFFcEI7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc21fYmFua2luZy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL25vZGUvaW50ZWdyYXRpb25zL2Fwb2xsby5qcz9kYWMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9vcHRpb25hbENoYWluIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBsb2FkTW9kdWxlLCBsb2dnZXIsIGZpbGwsIGFycmF5aWZ5LCBpc1RoZW5hYmxlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBERUJVR19CVUlMRCB9IGZyb20gJy4uLy4uL2NvbW1vbi9kZWJ1Zy1idWlsZC5qcyc7XG5pbXBvcnQgeyBzaG91bGREaXNhYmxlQXV0b0luc3RydW1lbnRhdGlvbiB9IGZyb20gJy4vdXRpbHMvbm9kZS11dGlscy5qcyc7XG5cbi8qKiBUcmFjaW5nIGludGVncmF0aW9uIGZvciBBcG9sbG8gKi9cbmNsYXNzIEFwb2xsbyAge1xuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMuaWQgPSAnQXBvbGxvJzt9XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgIGNvbnN0cnVjdG9yKFxuICAgIG9wdGlvbnMgPSB7XG4gICAgICB1c2VOZXN0anM6IGZhbHNlLFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMubmFtZSA9IEFwb2xsby5pZDtcbiAgICB0aGlzLl91c2VOZXN0ID0gISFvcHRpb25zLnVzZU5lc3RqcztcbiAgfVxuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgbG9hZERlcGVuZGVuY3koKSB7XG4gICAgaWYgKHRoaXMuX3VzZU5lc3QpIHtcbiAgICAgIHRoaXMuX21vZHVsZSA9IHRoaXMuX21vZHVsZSB8fCBsb2FkTW9kdWxlKCdAbmVzdGpzL2dyYXBocWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbW9kdWxlID0gdGhpcy5fbW9kdWxlIHx8IGxvYWRNb2R1bGUoJ2Fwb2xsby1zZXJ2ZXItY29yZScpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9tb2R1bGU7XG4gIH1cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgc2V0dXBPbmNlKF8sIGdldEN1cnJlbnRIdWIpIHtcbiAgICBpZiAoc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24oZ2V0Q3VycmVudEh1YikpIHtcbiAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ0Fwb2xsbyBJbnRlZ3JhdGlvbiBpcyBza2lwcGVkIGJlY2F1c2Ugb2YgaW5zdHJ1bWVudGVyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3VzZU5lc3QpIHtcbiAgICAgIGNvbnN0IHBrZyA9IHRoaXMubG9hZERlcGVuZGVuY3koKTtcblxuICAgICAgaWYgKCFwa2cpIHtcbiAgICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKCdBcG9sbG8tTmVzdEpTIEludGVncmF0aW9uIHdhcyB1bmFibGUgdG8gcmVxdWlyZSBAbmVzdGpzL2dyYXBocWwgcGFja2FnZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEl0ZXJhdGUgb3ZlciByZXNvbHZlcnMgb2YgTmVzdEpTIFJlc29sdmVyc0V4cGxvcmVyU2VydmljZSBiZWZvcmUgc2NoZW1hcyBhcmUgY29uc3RydWN0ZWQuXG4gICAgICAgKi9cbiAgICAgIGZpbGwoXG4gICAgICAgIHBrZy5HcmFwaFFMRmFjdG9yeS5wcm90b3R5cGUsXG4gICAgICAgICdtZXJnZVdpdGhTY2hlbWEnLFxuICAgICAgICBmdW5jdGlvbiAob3JpZykge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoXG5cbiAgICAgICAgICAgIC4uLmFyZ3NcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGZpbGwodGhpcy5yZXNvbHZlcnNFeHBsb3JlclNlcnZpY2UsICdleHBsb3JlJywgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlcnMgPSBhcnJheWlmeShvcmlnLmNhbGwodGhpcykpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1bWVudGVkUmVzb2x2ZXJzID0gaW5zdHJ1bWVudFJlc29sdmVycyhyZXNvbHZlcnMsIGdldEN1cnJlbnRIdWIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RydW1lbnRlZFJlc29sdmVycztcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwa2cgPSB0aGlzLmxvYWREZXBlbmRlbmN5KCk7XG5cbiAgICAgIGlmICghcGtnKSB7XG4gICAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5lcnJvcignQXBvbGxvIEludGVncmF0aW9uIHdhcyB1bmFibGUgdG8gcmVxdWlyZSBhcG9sbG8tc2VydmVyLWNvcmUgcGFja2FnZS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEl0ZXJhdGUgb3ZlciByZXNvbHZlcnMgb2YgdGhlIEFwb2xsb1NlcnZlciBpbnN0YW5jZSBiZWZvcmUgc2NoZW1hcyBhcmUgY29uc3RydWN0ZWQuXG4gICAgICAgKi9cbiAgICAgIGZpbGwocGtnLkFwb2xsb1NlcnZlckJhc2UucHJvdG90eXBlLCAnY29uc3RydWN0U2NoZW1hJywgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChcblxuKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5yZXNvbHZlcnMpIHtcbiAgICAgICAgICAgIGlmIChERUJVR19CVUlMRCkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgICAgICAnQXBvbGxvIGludGVncmF0aW9uIGlzIG5vdCBhYmxlIHRvIHRyYWNlIGBBcG9sbG9TZXJ2ZXJgIGluc3RhbmNlcyBjb25zdHJ1Y3RlZCB2aWEgYHNjaGVtYWAgcHJvcGVydHkuJyArXG4gICAgICAgICAgICAgICAgICAgICdJZiB5b3UgYXJlIHVzaW5nIE5lc3RKUyB3aXRoIEFwb2xsbywgcGxlYXNlIHVzZSBgU2VudHJ5LkludGVncmF0aW9ucy5BcG9sbG8oeyB1c2VOZXN0anM6IHRydWUgfSlgIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb25maWcubW9kdWxlcykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFxuICAgICAgICAgICAgICAgICAgJ0Fwb2xsbyBpbnRlZ3JhdGlvbiBpcyBub3QgYWJsZSB0byB0cmFjZSBgQXBvbGxvU2VydmVyYCBpbnN0YW5jZXMgY29uc3RydWN0ZWQgdmlhIGBtb2R1bGVzYCBwcm9wZXJ0eS4nLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ1NraXBwaW5nIHRyYWNpbmcgYXMgbm8gcmVzb2x2ZXJzIGZvdW5kIG9uIHRoZSBgQXBvbGxvU2VydmVyYCBpbnN0YW5jZS4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9yaWcuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNvbHZlcnMgPSBhcnJheWlmeSh0aGlzLmNvbmZpZy5yZXNvbHZlcnMpO1xuXG4gICAgICAgICAgdGhpcy5jb25maWcucmVzb2x2ZXJzID0gaW5zdHJ1bWVudFJlc29sdmVycyhyZXNvbHZlcnMsIGdldEN1cnJlbnRIdWIpO1xuXG4gICAgICAgICAgcmV0dXJuIG9yaWcuY2FsbCh0aGlzKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufUFwb2xsby5fX2luaXRTdGF0aWMoKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG5mdW5jdGlvbiBpbnN0cnVtZW50UmVzb2x2ZXJzKHJlc29sdmVycywgZ2V0Q3VycmVudEh1Yikge1xuICByZXR1cm4gcmVzb2x2ZXJzLm1hcChtb2RlbCA9PiB7XG4gICAgT2JqZWN0LmtleXMobW9kZWwpLmZvckVhY2gocmVzb2x2ZXJHcm91cE5hbWUgPT4ge1xuICAgICAgT2JqZWN0LmtleXMobW9kZWxbcmVzb2x2ZXJHcm91cE5hbWVdKS5mb3JFYWNoKHJlc29sdmVyTmFtZSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgbW9kZWxbcmVzb2x2ZXJHcm91cE5hbWVdW3Jlc29sdmVyTmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3cmFwUmVzb2x2ZXIobW9kZWwsIHJlc29sdmVyR3JvdXBOYW1lLCByZXNvbHZlck5hbWUsIGdldEN1cnJlbnRIdWIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH0pO1xufVxuXG4vKipcbiAqIFdyYXAgYSBzaW5nbGUgcmVzb2x2ZXIgd2hpY2ggY2FuIGJlIGEgcGFyZW50IG9mIG90aGVyIHJlc29sdmVycyBhbmQvb3IgZGIgb3BlcmF0aW9ucy5cbiAqL1xuZnVuY3Rpb24gd3JhcFJlc29sdmVyKFxuICBtb2RlbCxcbiAgcmVzb2x2ZXJHcm91cE5hbWUsXG4gIHJlc29sdmVyTmFtZSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gIGdldEN1cnJlbnRIdWIsXG4pIHtcbiAgZmlsbChtb2RlbFtyZXNvbHZlckdyb3VwTmFtZV0sIHJlc29sdmVyTmFtZSwgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCAuLi5hcmdzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIGNvbnN0IHNjb3BlID0gZ2V0Q3VycmVudEh1YigpLmdldFNjb3BlKCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIGNvbnN0IHBhcmVudFNwYW4gPSBzY29wZS5nZXRTcGFuKCk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgIGNvbnN0IHNwYW4gPSBfb3B0aW9uYWxDaGFpbihbcGFyZW50U3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzIgPT4gXzIuc3RhcnRDaGlsZCwgJ2NhbGwnLCBfMyA9PiBfMyh7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBgJHtyZXNvbHZlckdyb3VwTmFtZX0uJHtyZXNvbHZlck5hbWV9YCxcbiAgICAgICAgb3A6ICdncmFwaHFsLnJlc29sdmUnLFxuICAgICAgICBvcmlnaW46ICdhdXRvLmdyYXBocWwuYXBvbGxvJyxcbiAgICAgIH0pXSk7XG5cbiAgICAgIGNvbnN0IHJ2ID0gb3JpZy5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXG4gICAgICBpZiAoaXNUaGVuYWJsZShydikpIHtcbiAgICAgICAgcmV0dXJuIHJ2LnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIF9vcHRpb25hbENoYWluKFtzcGFuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfNCA9PiBfNC5lbmQsICdjYWxsJywgXzUgPT4gXzUoKV0pO1xuICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfb3B0aW9uYWxDaGFpbihbc3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzYgPT4gXzYuZW5kLCAnY2FsbCcsIF83ID0+IF83KCldKTtcblxuICAgICAgcmV0dXJuIHJ2O1xuICAgIH07XG4gIH0pO1xufVxuXG5leHBvcnQgeyBBcG9sbG8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwb2xsby5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/apollo.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/express.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/express.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Express: () => (/* binding */ Express),\n/* harmony export */   extractOriginalRoute: () => (/* binding */ extractOriginalRoute),\n/* harmony export */   preventDuplicateSegments: () => (/* binding */ preventDuplicateSegments)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/core */ \"(rsc)/./node_modules/@sentry/core/esm/utils/spanUtils.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/core */ \"(rsc)/./node_modules/@sentry/core/esm/semanticAttributes.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/url.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/requestdata.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/is.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/worldwide.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\n\n/* eslint-disable max-lines */\n\n/**\n * Express integration\n *\n * Provides an request and error handler for Express framework as well as tracing capabilities\n */\nclass Express  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Express';}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * Express App instance\n   */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options = {}) {\n    this.name = Express.id;\n    this._router = options.router || options.app;\n    this._methods = (Array.isArray(options.methods) ? options.methods : []).concat('use');\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    if (!this._router) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.logger.error('ExpressIntegration is missing an Express instance');\n      return;\n    }\n\n    if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_2__.shouldDisableAutoInstrumentation)(getCurrentHub)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.logger.log('Express Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    instrumentMiddlewares(this._router, this._methods);\n    instrumentRouter(this._router );\n  }\n}Express.__initStatic();\n\n/**\n * Wraps original middleware function in a tracing call, which stores the info about the call as a span,\n * and finishes it once the middleware is done invoking.\n *\n * Express middlewares have 3 various forms, thus we have to take care of all of them:\n * // sync\n * app.use(function (req, res) { ... })\n * // async\n * app.use(function (req, res, next) { ... })\n * // error handler\n * app.use(function (err, req, res, next) { ... })\n *\n * They all internally delegate to the `router[method]` of the given application instance.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/no-explicit-any\nfunction wrap(fn, method) {\n  const arity = fn.length;\n\n  switch (arity) {\n    case 2: {\n      return function ( req, res) {\n        const transaction = res.__sentry_transaction;\n        if (transaction) {\n          // eslint-disable-next-line deprecation/deprecation\n          const span = transaction.startChild({\n            description: fn.name,\n            op: `middleware.express.${method}`,\n            origin: 'auto.middleware.express',\n          });\n          res.once('finish', () => {\n            span.end();\n          });\n        }\n        return fn.call(this, req, res);\n      };\n    }\n    case 3: {\n      return function (\n\n        req,\n        res,\n        next,\n      ) {\n        const transaction = res.__sentry_transaction;\n        // eslint-disable-next-line deprecation/deprecation\n        const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([transaction, 'optionalAccess', _2 => _2.startChild, 'call', _3 => _3({\n          description: fn.name,\n          op: `middleware.express.${method}`,\n          origin: 'auto.middleware.express',\n        })]);\n        fn.call(this, req, res, function ( ...args) {\n          (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([span, 'optionalAccess', _4 => _4.end, 'call', _5 => _5()]);\n          next.call(this, ...args);\n        });\n      };\n    }\n    case 4: {\n      return function (\n\n        err,\n        req,\n        res,\n        next,\n      ) {\n        const transaction = res.__sentry_transaction;\n        // eslint-disable-next-line deprecation/deprecation\n        const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([transaction, 'optionalAccess', _6 => _6.startChild, 'call', _7 => _7({\n          description: fn.name,\n          op: `middleware.express.${method}`,\n          origin: 'auto.middleware.express',\n        })]);\n        fn.call(this, err, req, res, function ( ...args) {\n          (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([span, 'optionalAccess', _8 => _8.end, 'call', _9 => _9()]);\n          next.call(this, ...args);\n        });\n      };\n    }\n    default: {\n      throw new Error(`Express middleware takes 2-4 arguments. Got: ${arity}`);\n    }\n  }\n}\n\n/**\n * Takes all the function arguments passed to the original `app` or `router` method, eg. `app.use` or `router.use`\n * and wraps every function, as well as array of functions with a call to our `wrap` method.\n * We have to take care of the arrays as well as iterate over all of the arguments,\n * as `app.use` can accept middlewares in few various forms.\n *\n * app.use([<path>], <fn>)\n * app.use([<path>], <fn>, ...<fn>)\n * app.use([<path>], ...<fn>[])\n */\nfunction wrapMiddlewareArgs(args, method) {\n  return args.map((arg) => {\n    if (typeof arg === 'function') {\n      return wrap(arg, method);\n    }\n\n    if (Array.isArray(arg)) {\n      return arg.map((a) => {\n        if (typeof a === 'function') {\n          return wrap(a, method);\n        }\n        return a;\n      });\n    }\n\n    return arg;\n  });\n}\n\n/**\n * Patches original router to utilize our tracing functionality\n */\nfunction patchMiddleware(router, method) {\n  const originalCallback = router[method];\n\n  router[method] = function (...args) {\n    return originalCallback.call(this, ...wrapMiddlewareArgs(args, method));\n  };\n\n  return router;\n}\n\n/**\n * Patches original router methods\n */\nfunction instrumentMiddlewares(router, methods = []) {\n  methods.forEach((method) => patchMiddleware(router, method));\n}\n\n/**\n * Patches the prototype of Express.Router to accumulate the resolved route\n * if a layer instance's `match` function was called and it returned a successful match.\n *\n * @see https://github.com/expressjs/express/blob/master/lib/router/index.js\n *\n * @param appOrRouter the router instance which can either be an app (i.e. top-level) or a (nested) router.\n */\nfunction instrumentRouter(appOrRouter) {\n  // This is how we can distinguish between app and routers\n  const isApp = 'settings' in appOrRouter;\n\n  // In case the app's top-level router hasn't been initialized yet, we have to do it now\n  if (isApp && appOrRouter._router === undefined && appOrRouter.lazyrouter) {\n    appOrRouter.lazyrouter();\n  }\n\n  const router = isApp ? appOrRouter._router : appOrRouter;\n\n  if (!router) {\n    /*\n    If we end up here, this means likely that this integration is used with Express 3 or Express 5.\n    For now, we don't support these versions (3 is very old and 5 is still in beta). To support Express 5,\n    we'd need to make more changes to the routing instrumentation because the router is no longer part of\n    the Express core package but maintained in its own package. The new router has different function\n    signatures and works slightly differently, demanding more changes than just taking the router from\n    `app.router` instead of `app._router`.\n    @see https://github.com/pillarjs/router\n\n    TODO: Proper Express 5 support\n    */\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug('Cannot instrument router for URL Parameterization (did not find a valid router).');\n    _common_debug_build_js__WEBPACK_IMPORTED_MODULE_0__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_1__.logger.debug('Routing instrumentation is currently only supported in Express 4.');\n    return;\n  }\n\n  const routerProto = Object.getPrototypeOf(router) ;\n\n  const originalProcessParams = routerProto.process_params;\n  routerProto.process_params = function process_params(\n    layer,\n    called,\n    req,\n    res,\n    done,\n  ) {\n    // Base case: We're in the first part of the URL (thus we start with the root '/')\n    if (!req._reconstructedRoute) {\n      req._reconstructedRoute = '';\n    }\n\n    // If the layer's partial route has params, is a regex or an array, the route is stored in layer.route.\n    const { layerRoutePath, isRegex, isArray, numExtraSegments } = getLayerRoutePathInfo(layer);\n\n    if (layerRoutePath || isRegex || isArray) {\n      req._hasParameters = true;\n    }\n\n    // Otherwise, the hardcoded path (i.e. a partial route without params) is stored in layer.path\n    let partialRoute;\n\n    if (layerRoutePath) {\n      partialRoute = layerRoutePath;\n    } else {\n      /**\n       * prevent duplicate segment in _reconstructedRoute param if router match multiple routes before final path\n       * example:\n       * original url: /api/v1/1234\n       * prevent: /api/api/v1/:userId\n       * router structure\n       * /api -> middleware\n       * /api/v1 -> middleware\n       * /1234 -> endpoint with param :userId\n       * final _reconstructedRoute is /api/v1/:userId\n       */\n      partialRoute = preventDuplicateSegments(req.originalUrl, req._reconstructedRoute, layer.path) || '';\n    }\n\n    // Normalize the partial route so that it doesn't contain leading or trailing slashes\n    // and exclude empty or '*' wildcard routes.\n    // The exclusion of '*' routes is our best effort to not \"pollute\" the transaction name\n    // with interim handlers (e.g. ones that check authentication or do other middleware stuff).\n    // We want to end up with the parameterized URL of the incoming request without any extraneous path segments.\n    const finalPartialRoute = partialRoute\n      .split('/')\n      .filter(segment => segment.length > 0 && (isRegex || isArray || !segment.includes('*')))\n      .join('/');\n\n    // If we found a valid partial URL, we append it to the reconstructed route\n    if (finalPartialRoute && finalPartialRoute.length > 0) {\n      // If the partial route is from a regex route, we append a '/' to close the regex\n      req._reconstructedRoute += `/${finalPartialRoute}${isRegex ? '/' : ''}`;\n    }\n\n    // Now we check if we are in the \"last\" part of the route. We determine this by comparing the\n    // number of URL segments from the original URL to that of our reconstructed parameterized URL.\n    // If we've reached our final destination, we update the transaction name.\n    const urlLength = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.getNumberOfUrlSegments)((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.stripUrlQueryAndFragment)(req.originalUrl || '')) + numExtraSegments;\n    const routeLength = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.getNumberOfUrlSegments)(req._reconstructedRoute);\n\n    if (urlLength === routeLength) {\n      if (!req._hasParameters) {\n        if (req._reconstructedRoute !== req.originalUrl) {\n          req._reconstructedRoute = req.originalUrl ? (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.stripUrlQueryAndFragment)(req.originalUrl) : req.originalUrl;\n        }\n      }\n\n      const transaction = res.__sentry_transaction;\n      const attributes = (transaction && (0,_sentry_core__WEBPACK_IMPORTED_MODULE_5__.spanToJSON)(transaction).data) || {};\n      if (transaction && attributes[_sentry_core__WEBPACK_IMPORTED_MODULE_6__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE] !== 'custom') {\n        // If the request URL is '/' or empty, the reconstructed route will be empty.\n        // Therefore, we fall back to setting the final route to '/' in this case.\n        const finalRoute = req._reconstructedRoute || '/';\n\n        const [name, source] = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_7__.extractPathForTransaction)(req, { path: true, method: true, customRoute: finalRoute });\n        transaction.updateName(name);\n        transaction.setAttribute(_sentry_core__WEBPACK_IMPORTED_MODULE_6__.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE, source);\n      }\n    }\n\n    return originalProcessParams.call(this, layer, called, req, res, done);\n  };\n}\n\n/**\n * Recreate layer.route.path from layer.regexp and layer.keys.\n * Works until express.js used package path-to-regexp@0.1.7\n * or until layer.keys contain offset attribute\n *\n * @param layer the layer to extract the stringified route from\n *\n * @returns string in layer.route.path structure 'router/:pathParam' or undefined\n */\nconst extractOriginalRoute = (\n  path,\n  regexp,\n  keys,\n) => {\n  if (\n    !path ||\n    !regexp ||\n    !keys ||\n    Object.keys(keys).length === 0 ||\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([keys, 'access', _10 => _10[0], 'optionalAccess', _11 => _11.offset]) === undefined ||\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([keys, 'access', _12 => _12[0], 'optionalAccess', _13 => _13.offset]) === null\n  ) {\n    return undefined;\n  }\n  const orderedKeys = keys.sort((a, b) => a.offset - b.offset);\n\n  // add d flag for getting indices from regexp result\n  // eslint-disable-next-line @sentry-internal/sdk/no-regexp-constructor -- regexp comes from express.js\n  const pathRegex = new RegExp(regexp, `${regexp.flags}d`);\n  /**\n   * use custom type cause of TS error with missing indices in RegExpExecArray\n   */\n  const execResult = pathRegex.exec(path) ;\n\n  if (!execResult || !execResult.indices) {\n    return undefined;\n  }\n  /**\n   * remove first match from regex cause contain whole layer.path\n   */\n  const [, ...paramIndices] = execResult.indices;\n\n  if (paramIndices.length !== orderedKeys.length) {\n    return undefined;\n  }\n  let resultPath = path;\n  let indexShift = 0;\n\n  /**\n   * iterate param matches from regexp.exec\n   */\n  paramIndices.forEach((item, index) => {\n    /** check if offsets is define because in some cases regex d flag returns undefined */\n    if (item) {\n      const [startOffset, endOffset] = item;\n      /**\n       * isolate part before param\n       */\n      const substr1 = resultPath.substring(0, startOffset - indexShift);\n      /**\n       * define paramName as replacement in format :pathParam\n       */\n      const replacement = `:${orderedKeys[index].name}`;\n\n      /**\n       * isolate part after param\n       */\n      const substr2 = resultPath.substring(endOffset - indexShift);\n\n      /**\n       * recreate original path but with param replacement\n       */\n      resultPath = substr1 + replacement + substr2;\n\n      /**\n       * calculate new index shift after resultPath was modified\n       */\n      indexShift = indexShift + (endOffset - startOffset - replacement.length);\n    }\n  });\n\n  return resultPath;\n};\n\n/**\n * Extracts and stringifies the layer's route which can either be a string with parameters (`users/:id`),\n * a RegEx (`/test/`) or an array of strings and regexes (`['/path1', /\\/path[2-5]/, /path/:id]`). Additionally\n * returns extra information about the route, such as if the route is defined as regex or as an array.\n *\n * @param layer the layer to extract the stringified route from\n *\n * @returns an object containing the stringified route, a flag determining if the route was a regex\n *          and the number of extra segments to the matched path that are additionally in the route,\n *          if the route was an array (defaults to 0).\n */\nfunction getLayerRoutePathInfo(layer) {\n  let lrp = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([layer, 'access', _14 => _14.route, 'optionalAccess', _15 => _15.path]);\n\n  const isRegex = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_8__.isRegExp)(lrp);\n  const isArray = Array.isArray(lrp);\n\n  if (!lrp) {\n    // parse node.js major version\n    // Next.js will complain if we directly use `proces.versions` here because of edge runtime.\n    const [major] = (_sentry_utils__WEBPACK_IMPORTED_MODULE_9__.GLOBAL_OBJ ).process.versions.node.split('.').map(Number);\n\n    // allow call extractOriginalRoute only if node version support Regex d flag, node 16+\n    if (major >= 16) {\n      /**\n       * If lrp does not exist try to recreate original layer path from route regexp\n       */\n      lrp = extractOriginalRoute(layer.path, layer.regexp, layer.keys);\n    }\n  }\n\n  if (!lrp) {\n    return { isRegex, isArray, numExtraSegments: 0 };\n  }\n\n  const numExtraSegments = isArray\n    ? Math.max(getNumberOfArrayUrlSegments(lrp ) - (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.getNumberOfUrlSegments)(layer.path || ''), 0)\n    : 0;\n\n  const layerRoutePath = getLayerRoutePathString(isArray, lrp);\n\n  return { layerRoutePath, isRegex, isArray, numExtraSegments };\n}\n\n/**\n * Returns the number of URL segments in an array of routes\n *\n * Example: ['/api/test', /\\/api\\/post[0-9]/, '/users/:id/details`] -> 7\n */\nfunction getNumberOfArrayUrlSegments(routesArray) {\n  return routesArray.reduce((accNumSegments, currentRoute) => {\n    // array members can be a RegEx -> convert them toString\n    return accNumSegments + (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.getNumberOfUrlSegments)(currentRoute.toString());\n  }, 0);\n}\n\n/**\n * Extracts and returns the stringified version of the layers route path\n * Handles route arrays (by joining the paths together) as well as RegExp and normal\n * string values (in the latter case the toString conversion is technically unnecessary but\n * it doesn't hurt us either).\n */\nfunction getLayerRoutePathString(isArray, lrp) {\n  if (isArray) {\n    return (lrp ).map(r => r.toString()).join(',');\n  }\n  return lrp && lrp.toString();\n}\n\n/**\n * remove duplicate segment contain in layerPath against reconstructedRoute,\n * and return only unique segment that can be added into reconstructedRoute\n */\nfunction preventDuplicateSegments(\n  originalUrl,\n  reconstructedRoute,\n  layerPath,\n) {\n  // filter query params\n  const normalizeURL = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.stripUrlQueryAndFragment)(originalUrl || '');\n  const originalUrlSplit = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([normalizeURL, 'optionalAccess', _16 => _16.split, 'call', _17 => _17('/'), 'access', _18 => _18.filter, 'call', _19 => _19(v => !!v)]);\n  let tempCounter = 0;\n  const currentOffset = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([reconstructedRoute, 'optionalAccess', _20 => _20.split, 'call', _21 => _21('/'), 'access', _22 => _22.filter, 'call', _23 => _23(v => !!v), 'access', _24 => _24.length]) || 0;\n  const result = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([layerPath\n, 'optionalAccess', _25 => _25.split, 'call', _26 => _26('/')\n, 'access', _27 => _27.filter, 'call', _28 => _28(segment => {\n      if ((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_3__._optionalChain)([originalUrlSplit, 'optionalAccess', _29 => _29[currentOffset + tempCounter]]) === segment) {\n        tempCounter += 1;\n        return true;\n      }\n      return false;\n    })\n, 'access', _30 => _30.join, 'call', _31 => _31('/')]);\n  return result;\n}\n\n\n//# sourceMappingURL=express.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9leHByZXNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDNkI7QUFDOEQ7QUFDaEY7QUFDZTs7QUFFekU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLCtEQUFXLElBQUksaURBQU07QUFDM0I7QUFDQTs7QUFFQSxRQUFRLHNGQUFnQztBQUN4QyxNQUFNLCtEQUFXLElBQUksaURBQU07QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxLQUFLO0FBQ3RDO0FBQ0EsdUNBQXVDLEtBQUs7QUFDNUM7QUFDQSw0Q0FBNEMsS0FBSztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBYztBQUNuQztBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVSw2REFBYztBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2REFBYztBQUNuQztBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVSw2REFBYztBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxzRUFBc0UsTUFBTTtBQUM1RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSwrREFBVyxJQUFJLGlEQUFNO0FBQ3pCLElBQUksK0RBQVcsSUFBSSxpREFBTTtBQUN6QjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVkscURBQXFEOztBQUVqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsa0JBQWtCLEVBQUUsbUJBQW1CO0FBQzVFOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxRUFBc0IsQ0FBQyx1RUFBd0I7QUFDckUsd0JBQXdCLHFFQUFzQjs7QUFFOUM7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHVFQUF3QjtBQUM5RTtBQUNBOztBQUVBO0FBQ0EseUNBQXlDLHdEQUFVO0FBQ25ELG9DQUFvQywwRUFBZ0M7QUFDcEU7QUFDQTtBQUNBOztBQUVBLCtCQUErQix3RUFBeUIsUUFBUSxtREFBbUQ7QUFDbkg7QUFDQSxpQ0FBaUMsMEVBQWdDO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2REFBYztBQUNsQixJQUFJLDZEQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQ0FBMEMsYUFBYTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsd0JBQXdCOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkRBQWM7O0FBRTFCLGtCQUFrQix1REFBUTtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscURBQVU7O0FBRS9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQSxtREFBbUQscUVBQXNCO0FBQ3pFOztBQUVBOztBQUVBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFFQUFzQjtBQUNsRCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVFQUF3QjtBQUMvQywyQkFBMkIsNkRBQWM7QUFDekM7QUFDQSx3QkFBd0IsNkRBQWM7QUFDdEMsaUJBQWlCLDZEQUFjO0FBQy9CO0FBQ0E7QUFDQSxVQUFVLDZEQUFjO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFbUU7QUFDbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc21fYmFua2luZy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL25vZGUvaW50ZWdyYXRpb25zL2V4cHJlc3MuanM/NzAxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfb3B0aW9uYWxDaGFpbiB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgc3BhblRvSlNPTiwgU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9TT1VSQ0UgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgbG9nZ2VyLCBnZXROdW1iZXJPZlVybFNlZ21lbnRzLCBzdHJpcFVybFF1ZXJ5QW5kRnJhZ21lbnQsIGV4dHJhY3RQYXRoRm9yVHJhbnNhY3Rpb24sIGlzUmVnRXhwLCBHTE9CQUxfT0JKIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBERUJVR19CVUlMRCB9IGZyb20gJy4uLy4uL2NvbW1vbi9kZWJ1Zy1idWlsZC5qcyc7XG5pbXBvcnQgeyBzaG91bGREaXNhYmxlQXV0b0luc3RydW1lbnRhdGlvbiB9IGZyb20gJy4vdXRpbHMvbm9kZS11dGlscy5qcyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1saW5lcyAqL1xuXG4vKipcbiAqIEV4cHJlc3MgaW50ZWdyYXRpb25cbiAqXG4gKiBQcm92aWRlcyBhbiByZXF1ZXN0IGFuZCBlcnJvciBoYW5kbGVyIGZvciBFeHByZXNzIGZyYW1ld29yayBhcyB3ZWxsIGFzIHRyYWNpbmcgY2FwYWJpbGl0aWVzXG4gKi9cbmNsYXNzIEV4cHJlc3MgIHtcbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICAgc3RhdGljIF9faW5pdFN0YXRpYygpIHt0aGlzLmlkID0gJ0V4cHJlc3MnO31cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG5cbiAgLyoqXG4gICAqIEV4cHJlc3MgQXBwIGluc3RhbmNlXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IEV4cHJlc3MuaWQ7XG4gICAgdGhpcy5fcm91dGVyID0gb3B0aW9ucy5yb3V0ZXIgfHwgb3B0aW9ucy5hcHA7XG4gICAgdGhpcy5fbWV0aG9kcyA9IChBcnJheS5pc0FycmF5KG9wdGlvbnMubWV0aG9kcykgPyBvcHRpb25zLm1ldGhvZHMgOiBbXSkuY29uY2F0KCd1c2UnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICBzZXR1cE9uY2UoXywgZ2V0Q3VycmVudEh1Yikge1xuICAgIGlmICghdGhpcy5fcm91dGVyKSB7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoJ0V4cHJlc3NJbnRlZ3JhdGlvbiBpcyBtaXNzaW5nIGFuIEV4cHJlc3MgaW5zdGFuY2UnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24oZ2V0Q3VycmVudEh1YikpIHtcbiAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ0V4cHJlc3MgSW50ZWdyYXRpb24gaXMgc2tpcHBlZCBiZWNhdXNlIG9mIGluc3RydW1lbnRlciBjb25maWd1cmF0aW9uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluc3RydW1lbnRNaWRkbGV3YXJlcyh0aGlzLl9yb3V0ZXIsIHRoaXMuX21ldGhvZHMpO1xuICAgIGluc3RydW1lbnRSb3V0ZXIodGhpcy5fcm91dGVyICk7XG4gIH1cbn1FeHByZXNzLl9faW5pdFN0YXRpYygpO1xuXG4vKipcbiAqIFdyYXBzIG9yaWdpbmFsIG1pZGRsZXdhcmUgZnVuY3Rpb24gaW4gYSB0cmFjaW5nIGNhbGwsIHdoaWNoIHN0b3JlcyB0aGUgaW5mbyBhYm91dCB0aGUgY2FsbCBhcyBhIHNwYW4sXG4gKiBhbmQgZmluaXNoZXMgaXQgb25jZSB0aGUgbWlkZGxld2FyZSBpcyBkb25lIGludm9raW5nLlxuICpcbiAqIEV4cHJlc3MgbWlkZGxld2FyZXMgaGF2ZSAzIHZhcmlvdXMgZm9ybXMsIHRodXMgd2UgaGF2ZSB0byB0YWtlIGNhcmUgb2YgYWxsIG9mIHRoZW06XG4gKiAvLyBzeW5jXG4gKiBhcHAudXNlKGZ1bmN0aW9uIChyZXEsIHJlcykgeyAuLi4gfSlcbiAqIC8vIGFzeW5jXG4gKiBhcHAudXNlKGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkgeyAuLi4gfSlcbiAqIC8vIGVycm9yIGhhbmRsZXJcbiAqIGFwcC51c2UoZnVuY3Rpb24gKGVyciwgcmVxLCByZXMsIG5leHQpIHsgLi4uIH0pXG4gKlxuICogVGhleSBhbGwgaW50ZXJuYWxseSBkZWxlZ2F0ZSB0byB0aGUgYHJvdXRlclttZXRob2RdYCBvZiB0aGUgZ2l2ZW4gYXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiB3cmFwKGZuLCBtZXRob2QpIHtcbiAgY29uc3QgYXJpdHkgPSBmbi5sZW5ndGg7XG5cbiAgc3dpdGNoIChhcml0eSkge1xuICAgIGNhc2UgMjoge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICggcmVxLCByZXMpIHtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSByZXMuX19zZW50cnlfdHJhbnNhY3Rpb247XG4gICAgICAgIGlmICh0cmFuc2FjdGlvbikge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgIGNvbnN0IHNwYW4gPSB0cmFuc2FjdGlvbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmbi5uYW1lLFxuICAgICAgICAgICAgb3A6IGBtaWRkbGV3YXJlLmV4cHJlc3MuJHttZXRob2R9YCxcbiAgICAgICAgICAgIG9yaWdpbjogJ2F1dG8ubWlkZGxld2FyZS5leHByZXNzJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXMub25jZSgnZmluaXNoJywgKCkgPT4ge1xuICAgICAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCByZXEsIHJlcyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIDM6IHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoXG5cbiAgICAgICAgcmVxLFxuICAgICAgICByZXMsXG4gICAgICAgIG5leHQsXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSByZXMuX19zZW50cnlfdHJhbnNhY3Rpb247XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBjb25zdCBzcGFuID0gX29wdGlvbmFsQ2hhaW4oW3RyYW5zYWN0aW9uLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMiA9PiBfMi5zdGFydENoaWxkLCAnY2FsbCcsIF8zID0+IF8zKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZm4ubmFtZSxcbiAgICAgICAgICBvcDogYG1pZGRsZXdhcmUuZXhwcmVzcy4ke21ldGhvZH1gLFxuICAgICAgICAgIG9yaWdpbjogJ2F1dG8ubWlkZGxld2FyZS5leHByZXNzJyxcbiAgICAgICAgfSldKTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCByZXEsIHJlcywgZnVuY3Rpb24gKCAuLi5hcmdzKSB7XG4gICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3NwYW4sICdvcHRpb25hbEFjY2VzcycsIF80ID0+IF80LmVuZCwgJ2NhbGwnLCBfNSA9PiBfNSgpXSk7XG4gICAgICAgICAgbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgNDoge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChcblxuICAgICAgICBlcnIsXG4gICAgICAgIHJlcSxcbiAgICAgICAgcmVzLFxuICAgICAgICBuZXh0LFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gcmVzLl9fc2VudHJ5X3RyYW5zYWN0aW9uO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3Qgc3BhbiA9IF9vcHRpb25hbENoYWluKFt0cmFuc2FjdGlvbiwgJ29wdGlvbmFsQWNjZXNzJywgXzYgPT4gXzYuc3RhcnRDaGlsZCwgJ2NhbGwnLCBfNyA9PiBfNyh7XG4gICAgICAgICAgZGVzY3JpcHRpb246IGZuLm5hbWUsXG4gICAgICAgICAgb3A6IGBtaWRkbGV3YXJlLmV4cHJlc3MuJHttZXRob2R9YCxcbiAgICAgICAgICBvcmlnaW46ICdhdXRvLm1pZGRsZXdhcmUuZXhwcmVzcycsXG4gICAgICAgIH0pXSk7XG4gICAgICAgIGZuLmNhbGwodGhpcywgZXJyLCByZXEsIHJlcywgZnVuY3Rpb24gKCAuLi5hcmdzKSB7XG4gICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3NwYW4sICdvcHRpb25hbEFjY2VzcycsIF84ID0+IF84LmVuZCwgJ2NhbGwnLCBfOSA9PiBfOSgpXSk7XG4gICAgICAgICAgbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwcmVzcyBtaWRkbGV3YXJlIHRha2VzIDItNCBhcmd1bWVudHMuIEdvdDogJHthcml0eX1gKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUYWtlcyBhbGwgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIG9yaWdpbmFsIGBhcHBgIG9yIGByb3V0ZXJgIG1ldGhvZCwgZWcuIGBhcHAudXNlYCBvciBgcm91dGVyLnVzZWBcbiAqIGFuZCB3cmFwcyBldmVyeSBmdW5jdGlvbiwgYXMgd2VsbCBhcyBhcnJheSBvZiBmdW5jdGlvbnMgd2l0aCBhIGNhbGwgdG8gb3VyIGB3cmFwYCBtZXRob2QuXG4gKiBXZSBoYXZlIHRvIHRha2UgY2FyZSBvZiB0aGUgYXJyYXlzIGFzIHdlbGwgYXMgaXRlcmF0ZSBvdmVyIGFsbCBvZiB0aGUgYXJndW1lbnRzLFxuICogYXMgYGFwcC51c2VgIGNhbiBhY2NlcHQgbWlkZGxld2FyZXMgaW4gZmV3IHZhcmlvdXMgZm9ybXMuXG4gKlxuICogYXBwLnVzZShbPHBhdGg+XSwgPGZuPilcbiAqIGFwcC51c2UoWzxwYXRoPl0sIDxmbj4sIC4uLjxmbj4pXG4gKiBhcHAudXNlKFs8cGF0aD5dLCAuLi48Zm4+W10pXG4gKi9cbmZ1bmN0aW9uIHdyYXBNaWRkbGV3YXJlQXJncyhhcmdzLCBtZXRob2QpIHtcbiAgcmV0dXJuIGFyZ3MubWFwKChhcmcpID0+IHtcbiAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHdyYXAoYXJnLCBtZXRob2QpO1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgIHJldHVybiBhcmcubWFwKChhKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiB3cmFwKGEsIG1ldGhvZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJnO1xuICB9KTtcbn1cblxuLyoqXG4gKiBQYXRjaGVzIG9yaWdpbmFsIHJvdXRlciB0byB1dGlsaXplIG91ciB0cmFjaW5nIGZ1bmN0aW9uYWxpdHlcbiAqL1xuZnVuY3Rpb24gcGF0Y2hNaWRkbGV3YXJlKHJvdXRlciwgbWV0aG9kKSB7XG4gIGNvbnN0IG9yaWdpbmFsQ2FsbGJhY2sgPSByb3V0ZXJbbWV0aG9kXTtcblxuICByb3V0ZXJbbWV0aG9kXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsQ2FsbGJhY2suY2FsbCh0aGlzLCAuLi53cmFwTWlkZGxld2FyZUFyZ3MoYXJncywgbWV0aG9kKSk7XG4gIH07XG5cbiAgcmV0dXJuIHJvdXRlcjtcbn1cblxuLyoqXG4gKiBQYXRjaGVzIG9yaWdpbmFsIHJvdXRlciBtZXRob2RzXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRNaWRkbGV3YXJlcyhyb3V0ZXIsIG1ldGhvZHMgPSBbXSkge1xuICBtZXRob2RzLmZvckVhY2goKG1ldGhvZCkgPT4gcGF0Y2hNaWRkbGV3YXJlKHJvdXRlciwgbWV0aG9kKSk7XG59XG5cbi8qKlxuICogUGF0Y2hlcyB0aGUgcHJvdG90eXBlIG9mIEV4cHJlc3MuUm91dGVyIHRvIGFjY3VtdWxhdGUgdGhlIHJlc29sdmVkIHJvdXRlXG4gKiBpZiBhIGxheWVyIGluc3RhbmNlJ3MgYG1hdGNoYCBmdW5jdGlvbiB3YXMgY2FsbGVkIGFuZCBpdCByZXR1cm5lZCBhIHN1Y2Nlc3NmdWwgbWF0Y2guXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZXhwcmVzc2pzL2V4cHJlc3MvYmxvYi9tYXN0ZXIvbGliL3JvdXRlci9pbmRleC5qc1xuICpcbiAqIEBwYXJhbSBhcHBPclJvdXRlciB0aGUgcm91dGVyIGluc3RhbmNlIHdoaWNoIGNhbiBlaXRoZXIgYmUgYW4gYXBwIChpLmUuIHRvcC1sZXZlbCkgb3IgYSAobmVzdGVkKSByb3V0ZXIuXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRSb3V0ZXIoYXBwT3JSb3V0ZXIpIHtcbiAgLy8gVGhpcyBpcyBob3cgd2UgY2FuIGRpc3Rpbmd1aXNoIGJldHdlZW4gYXBwIGFuZCByb3V0ZXJzXG4gIGNvbnN0IGlzQXBwID0gJ3NldHRpbmdzJyBpbiBhcHBPclJvdXRlcjtcblxuICAvLyBJbiBjYXNlIHRoZSBhcHAncyB0b3AtbGV2ZWwgcm91dGVyIGhhc24ndCBiZWVuIGluaXRpYWxpemVkIHlldCwgd2UgaGF2ZSB0byBkbyBpdCBub3dcbiAgaWYgKGlzQXBwICYmIGFwcE9yUm91dGVyLl9yb3V0ZXIgPT09IHVuZGVmaW5lZCAmJiBhcHBPclJvdXRlci5sYXp5cm91dGVyKSB7XG4gICAgYXBwT3JSb3V0ZXIubGF6eXJvdXRlcigpO1xuICB9XG5cbiAgY29uc3Qgcm91dGVyID0gaXNBcHAgPyBhcHBPclJvdXRlci5fcm91dGVyIDogYXBwT3JSb3V0ZXI7XG5cbiAgaWYgKCFyb3V0ZXIpIHtcbiAgICAvKlxuICAgIElmIHdlIGVuZCB1cCBoZXJlLCB0aGlzIG1lYW5zIGxpa2VseSB0aGF0IHRoaXMgaW50ZWdyYXRpb24gaXMgdXNlZCB3aXRoIEV4cHJlc3MgMyBvciBFeHByZXNzIDUuXG4gICAgRm9yIG5vdywgd2UgZG9uJ3Qgc3VwcG9ydCB0aGVzZSB2ZXJzaW9ucyAoMyBpcyB2ZXJ5IG9sZCBhbmQgNSBpcyBzdGlsbCBpbiBiZXRhKS4gVG8gc3VwcG9ydCBFeHByZXNzIDUsXG4gICAgd2UnZCBuZWVkIHRvIG1ha2UgbW9yZSBjaGFuZ2VzIHRvIHRoZSByb3V0aW5nIGluc3RydW1lbnRhdGlvbiBiZWNhdXNlIHRoZSByb3V0ZXIgaXMgbm8gbG9uZ2VyIHBhcnQgb2ZcbiAgICB0aGUgRXhwcmVzcyBjb3JlIHBhY2thZ2UgYnV0IG1haW50YWluZWQgaW4gaXRzIG93biBwYWNrYWdlLiBUaGUgbmV3IHJvdXRlciBoYXMgZGlmZmVyZW50IGZ1bmN0aW9uXG4gICAgc2lnbmF0dXJlcyBhbmQgd29ya3Mgc2xpZ2h0bHkgZGlmZmVyZW50bHksIGRlbWFuZGluZyBtb3JlIGNoYW5nZXMgdGhhbiBqdXN0IHRha2luZyB0aGUgcm91dGVyIGZyb21cbiAgICBgYXBwLnJvdXRlcmAgaW5zdGVhZCBvZiBgYXBwLl9yb3V0ZXJgLlxuICAgIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpbGxhcmpzL3JvdXRlclxuXG4gICAgVE9ETzogUHJvcGVyIEV4cHJlc3MgNSBzdXBwb3J0XG4gICAgKi9cbiAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZGVidWcoJ0Nhbm5vdCBpbnN0cnVtZW50IHJvdXRlciBmb3IgVVJMIFBhcmFtZXRlcml6YXRpb24gKGRpZCBub3QgZmluZCBhIHZhbGlkIHJvdXRlcikuJyk7XG4gICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmRlYnVnKCdSb3V0aW5nIGluc3RydW1lbnRhdGlvbiBpcyBjdXJyZW50bHkgb25seSBzdXBwb3J0ZWQgaW4gRXhwcmVzcyA0LicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJvdXRlclByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHJvdXRlcikgO1xuXG4gIGNvbnN0IG9yaWdpbmFsUHJvY2Vzc1BhcmFtcyA9IHJvdXRlclByb3RvLnByb2Nlc3NfcGFyYW1zO1xuICByb3V0ZXJQcm90by5wcm9jZXNzX3BhcmFtcyA9IGZ1bmN0aW9uIHByb2Nlc3NfcGFyYW1zKFxuICAgIGxheWVyLFxuICAgIGNhbGxlZCxcbiAgICByZXEsXG4gICAgcmVzLFxuICAgIGRvbmUsXG4gICkge1xuICAgIC8vIEJhc2UgY2FzZTogV2UncmUgaW4gdGhlIGZpcnN0IHBhcnQgb2YgdGhlIFVSTCAodGh1cyB3ZSBzdGFydCB3aXRoIHRoZSByb290ICcvJylcbiAgICBpZiAoIXJlcS5fcmVjb25zdHJ1Y3RlZFJvdXRlKSB7XG4gICAgICByZXEuX3JlY29uc3RydWN0ZWRSb3V0ZSA9ICcnO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBsYXllcidzIHBhcnRpYWwgcm91dGUgaGFzIHBhcmFtcywgaXMgYSByZWdleCBvciBhbiBhcnJheSwgdGhlIHJvdXRlIGlzIHN0b3JlZCBpbiBsYXllci5yb3V0ZS5cbiAgICBjb25zdCB7IGxheWVyUm91dGVQYXRoLCBpc1JlZ2V4LCBpc0FycmF5LCBudW1FeHRyYVNlZ21lbnRzIH0gPSBnZXRMYXllclJvdXRlUGF0aEluZm8obGF5ZXIpO1xuXG4gICAgaWYgKGxheWVyUm91dGVQYXRoIHx8IGlzUmVnZXggfHwgaXNBcnJheSkge1xuICAgICAgcmVxLl9oYXNQYXJhbWV0ZXJzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBPdGhlcndpc2UsIHRoZSBoYXJkY29kZWQgcGF0aCAoaS5lLiBhIHBhcnRpYWwgcm91dGUgd2l0aG91dCBwYXJhbXMpIGlzIHN0b3JlZCBpbiBsYXllci5wYXRoXG4gICAgbGV0IHBhcnRpYWxSb3V0ZTtcblxuICAgIGlmIChsYXllclJvdXRlUGF0aCkge1xuICAgICAgcGFydGlhbFJvdXRlID0gbGF5ZXJSb3V0ZVBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qKlxuICAgICAgICogcHJldmVudCBkdXBsaWNhdGUgc2VnbWVudCBpbiBfcmVjb25zdHJ1Y3RlZFJvdXRlIHBhcmFtIGlmIHJvdXRlciBtYXRjaCBtdWx0aXBsZSByb3V0ZXMgYmVmb3JlIGZpbmFsIHBhdGhcbiAgICAgICAqIGV4YW1wbGU6XG4gICAgICAgKiBvcmlnaW5hbCB1cmw6IC9hcGkvdjEvMTIzNFxuICAgICAgICogcHJldmVudDogL2FwaS9hcGkvdjEvOnVzZXJJZFxuICAgICAgICogcm91dGVyIHN0cnVjdHVyZVxuICAgICAgICogL2FwaSAtPiBtaWRkbGV3YXJlXG4gICAgICAgKiAvYXBpL3YxIC0+IG1pZGRsZXdhcmVcbiAgICAgICAqIC8xMjM0IC0+IGVuZHBvaW50IHdpdGggcGFyYW0gOnVzZXJJZFxuICAgICAgICogZmluYWwgX3JlY29uc3RydWN0ZWRSb3V0ZSBpcyAvYXBpL3YxLzp1c2VySWRcbiAgICAgICAqL1xuICAgICAgcGFydGlhbFJvdXRlID0gcHJldmVudER1cGxpY2F0ZVNlZ21lbnRzKHJlcS5vcmlnaW5hbFVybCwgcmVxLl9yZWNvbnN0cnVjdGVkUm91dGUsIGxheWVyLnBhdGgpIHx8ICcnO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgcGFydGlhbCByb3V0ZSBzbyB0aGF0IGl0IGRvZXNuJ3QgY29udGFpbiBsZWFkaW5nIG9yIHRyYWlsaW5nIHNsYXNoZXNcbiAgICAvLyBhbmQgZXhjbHVkZSBlbXB0eSBvciAnKicgd2lsZGNhcmQgcm91dGVzLlxuICAgIC8vIFRoZSBleGNsdXNpb24gb2YgJyonIHJvdXRlcyBpcyBvdXIgYmVzdCBlZmZvcnQgdG8gbm90IFwicG9sbHV0ZVwiIHRoZSB0cmFuc2FjdGlvbiBuYW1lXG4gICAgLy8gd2l0aCBpbnRlcmltIGhhbmRsZXJzIChlLmcuIG9uZXMgdGhhdCBjaGVjayBhdXRoZW50aWNhdGlvbiBvciBkbyBvdGhlciBtaWRkbGV3YXJlIHN0dWZmKS5cbiAgICAvLyBXZSB3YW50IHRvIGVuZCB1cCB3aXRoIHRoZSBwYXJhbWV0ZXJpemVkIFVSTCBvZiB0aGUgaW5jb21pbmcgcmVxdWVzdCB3aXRob3V0IGFueSBleHRyYW5lb3VzIHBhdGggc2VnbWVudHMuXG4gICAgY29uc3QgZmluYWxQYXJ0aWFsUm91dGUgPSBwYXJ0aWFsUm91dGVcbiAgICAgIC5zcGxpdCgnLycpXG4gICAgICAuZmlsdGVyKHNlZ21lbnQgPT4gc2VnbWVudC5sZW5ndGggPiAwICYmIChpc1JlZ2V4IHx8IGlzQXJyYXkgfHwgIXNlZ21lbnQuaW5jbHVkZXMoJyonKSkpXG4gICAgICAuam9pbignLycpO1xuXG4gICAgLy8gSWYgd2UgZm91bmQgYSB2YWxpZCBwYXJ0aWFsIFVSTCwgd2UgYXBwZW5kIGl0IHRvIHRoZSByZWNvbnN0cnVjdGVkIHJvdXRlXG4gICAgaWYgKGZpbmFsUGFydGlhbFJvdXRlICYmIGZpbmFsUGFydGlhbFJvdXRlLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIElmIHRoZSBwYXJ0aWFsIHJvdXRlIGlzIGZyb20gYSByZWdleCByb3V0ZSwgd2UgYXBwZW5kIGEgJy8nIHRvIGNsb3NlIHRoZSByZWdleFxuICAgICAgcmVxLl9yZWNvbnN0cnVjdGVkUm91dGUgKz0gYC8ke2ZpbmFsUGFydGlhbFJvdXRlfSR7aXNSZWdleCA/ICcvJyA6ICcnfWA7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGNoZWNrIGlmIHdlIGFyZSBpbiB0aGUgXCJsYXN0XCIgcGFydCBvZiB0aGUgcm91dGUuIFdlIGRldGVybWluZSB0aGlzIGJ5IGNvbXBhcmluZyB0aGVcbiAgICAvLyBudW1iZXIgb2YgVVJMIHNlZ21lbnRzIGZyb20gdGhlIG9yaWdpbmFsIFVSTCB0byB0aGF0IG9mIG91ciByZWNvbnN0cnVjdGVkIHBhcmFtZXRlcml6ZWQgVVJMLlxuICAgIC8vIElmIHdlJ3ZlIHJlYWNoZWQgb3VyIGZpbmFsIGRlc3RpbmF0aW9uLCB3ZSB1cGRhdGUgdGhlIHRyYW5zYWN0aW9uIG5hbWUuXG4gICAgY29uc3QgdXJsTGVuZ3RoID0gZ2V0TnVtYmVyT2ZVcmxTZWdtZW50cyhzdHJpcFVybFF1ZXJ5QW5kRnJhZ21lbnQocmVxLm9yaWdpbmFsVXJsIHx8ICcnKSkgKyBudW1FeHRyYVNlZ21lbnRzO1xuICAgIGNvbnN0IHJvdXRlTGVuZ3RoID0gZ2V0TnVtYmVyT2ZVcmxTZWdtZW50cyhyZXEuX3JlY29uc3RydWN0ZWRSb3V0ZSk7XG5cbiAgICBpZiAodXJsTGVuZ3RoID09PSByb3V0ZUxlbmd0aCkge1xuICAgICAgaWYgKCFyZXEuX2hhc1BhcmFtZXRlcnMpIHtcbiAgICAgICAgaWYgKHJlcS5fcmVjb25zdHJ1Y3RlZFJvdXRlICE9PSByZXEub3JpZ2luYWxVcmwpIHtcbiAgICAgICAgICByZXEuX3JlY29uc3RydWN0ZWRSb3V0ZSA9IHJlcS5vcmlnaW5hbFVybCA/IHN0cmlwVXJsUXVlcnlBbmRGcmFnbWVudChyZXEub3JpZ2luYWxVcmwpIDogcmVxLm9yaWdpbmFsVXJsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gcmVzLl9fc2VudHJ5X3RyYW5zYWN0aW9uO1xuICAgICAgY29uc3QgYXR0cmlidXRlcyA9ICh0cmFuc2FjdGlvbiAmJiBzcGFuVG9KU09OKHRyYW5zYWN0aW9uKS5kYXRhKSB8fCB7fTtcbiAgICAgIGlmICh0cmFuc2FjdGlvbiAmJiBhdHRyaWJ1dGVzW1NFTUFOVElDX0FUVFJJQlVURV9TRU5UUllfU09VUkNFXSAhPT0gJ2N1c3RvbScpIHtcbiAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgVVJMIGlzICcvJyBvciBlbXB0eSwgdGhlIHJlY29uc3RydWN0ZWQgcm91dGUgd2lsbCBiZSBlbXB0eS5cbiAgICAgICAgLy8gVGhlcmVmb3JlLCB3ZSBmYWxsIGJhY2sgdG8gc2V0dGluZyB0aGUgZmluYWwgcm91dGUgdG8gJy8nIGluIHRoaXMgY2FzZS5cbiAgICAgICAgY29uc3QgZmluYWxSb3V0ZSA9IHJlcS5fcmVjb25zdHJ1Y3RlZFJvdXRlIHx8ICcvJztcblxuICAgICAgICBjb25zdCBbbmFtZSwgc291cmNlXSA9IGV4dHJhY3RQYXRoRm9yVHJhbnNhY3Rpb24ocmVxLCB7IHBhdGg6IHRydWUsIG1ldGhvZDogdHJ1ZSwgY3VzdG9tUm91dGU6IGZpbmFsUm91dGUgfSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldEF0dHJpYnV0ZShTRU1BTlRJQ19BVFRSSUJVVEVfU0VOVFJZX1NPVVJDRSwgc291cmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3JpZ2luYWxQcm9jZXNzUGFyYW1zLmNhbGwodGhpcywgbGF5ZXIsIGNhbGxlZCwgcmVxLCByZXMsIGRvbmUpO1xuICB9O1xufVxuXG4vKipcbiAqIFJlY3JlYXRlIGxheWVyLnJvdXRlLnBhdGggZnJvbSBsYXllci5yZWdleHAgYW5kIGxheWVyLmtleXMuXG4gKiBXb3JrcyB1bnRpbCBleHByZXNzLmpzIHVzZWQgcGFja2FnZSBwYXRoLXRvLXJlZ2V4cEAwLjEuN1xuICogb3IgdW50aWwgbGF5ZXIua2V5cyBjb250YWluIG9mZnNldCBhdHRyaWJ1dGVcbiAqXG4gKiBAcGFyYW0gbGF5ZXIgdGhlIGxheWVyIHRvIGV4dHJhY3QgdGhlIHN0cmluZ2lmaWVkIHJvdXRlIGZyb21cbiAqXG4gKiBAcmV0dXJucyBzdHJpbmcgaW4gbGF5ZXIucm91dGUucGF0aCBzdHJ1Y3R1cmUgJ3JvdXRlci86cGF0aFBhcmFtJyBvciB1bmRlZmluZWRcbiAqL1xuY29uc3QgZXh0cmFjdE9yaWdpbmFsUm91dGUgPSAoXG4gIHBhdGgsXG4gIHJlZ2V4cCxcbiAga2V5cyxcbikgPT4ge1xuICBpZiAoXG4gICAgIXBhdGggfHxcbiAgICAhcmVnZXhwIHx8XG4gICAgIWtleXMgfHxcbiAgICBPYmplY3Qua2V5cyhrZXlzKS5sZW5ndGggPT09IDAgfHxcbiAgICBfb3B0aW9uYWxDaGFpbihba2V5cywgJ2FjY2VzcycsIF8xMCA9PiBfMTBbMF0sICdvcHRpb25hbEFjY2VzcycsIF8xMSA9PiBfMTEub2Zmc2V0XSkgPT09IHVuZGVmaW5lZCB8fFxuICAgIF9vcHRpb25hbENoYWluKFtrZXlzLCAnYWNjZXNzJywgXzEyID0+IF8xMlswXSwgJ29wdGlvbmFsQWNjZXNzJywgXzEzID0+IF8xMy5vZmZzZXRdKSA9PT0gbnVsbFxuICApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IG9yZGVyZWRLZXlzID0ga2V5cy5zb3J0KChhLCBiKSA9PiBhLm9mZnNldCAtIGIub2Zmc2V0KTtcblxuICAvLyBhZGQgZCBmbGFnIGZvciBnZXR0aW5nIGluZGljZXMgZnJvbSByZWdleHAgcmVzdWx0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAc2VudHJ5LWludGVybmFsL3Nkay9uby1yZWdleHAtY29uc3RydWN0b3IgLS0gcmVnZXhwIGNvbWVzIGZyb20gZXhwcmVzcy5qc1xuICBjb25zdCBwYXRoUmVnZXggPSBuZXcgUmVnRXhwKHJlZ2V4cCwgYCR7cmVnZXhwLmZsYWdzfWRgKTtcbiAgLyoqXG4gICAqIHVzZSBjdXN0b20gdHlwZSBjYXVzZSBvZiBUUyBlcnJvciB3aXRoIG1pc3NpbmcgaW5kaWNlcyBpbiBSZWdFeHBFeGVjQXJyYXlcbiAgICovXG4gIGNvbnN0IGV4ZWNSZXN1bHQgPSBwYXRoUmVnZXguZXhlYyhwYXRoKSA7XG5cbiAgaWYgKCFleGVjUmVzdWx0IHx8ICFleGVjUmVzdWx0LmluZGljZXMpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIC8qKlxuICAgKiByZW1vdmUgZmlyc3QgbWF0Y2ggZnJvbSByZWdleCBjYXVzZSBjb250YWluIHdob2xlIGxheWVyLnBhdGhcbiAgICovXG4gIGNvbnN0IFssIC4uLnBhcmFtSW5kaWNlc10gPSBleGVjUmVzdWx0LmluZGljZXM7XG5cbiAgaWYgKHBhcmFtSW5kaWNlcy5sZW5ndGggIT09IG9yZGVyZWRLZXlzLmxlbmd0aCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgbGV0IHJlc3VsdFBhdGggPSBwYXRoO1xuICBsZXQgaW5kZXhTaGlmdCA9IDA7XG5cbiAgLyoqXG4gICAqIGl0ZXJhdGUgcGFyYW0gbWF0Y2hlcyBmcm9tIHJlZ2V4cC5leGVjXG4gICAqL1xuICBwYXJhbUluZGljZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAvKiogY2hlY2sgaWYgb2Zmc2V0cyBpcyBkZWZpbmUgYmVjYXVzZSBpbiBzb21lIGNhc2VzIHJlZ2V4IGQgZmxhZyByZXR1cm5zIHVuZGVmaW5lZCAqL1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCBbc3RhcnRPZmZzZXQsIGVuZE9mZnNldF0gPSBpdGVtO1xuICAgICAgLyoqXG4gICAgICAgKiBpc29sYXRlIHBhcnQgYmVmb3JlIHBhcmFtXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHN1YnN0cjEgPSByZXN1bHRQYXRoLnN1YnN0cmluZygwLCBzdGFydE9mZnNldCAtIGluZGV4U2hpZnQpO1xuICAgICAgLyoqXG4gICAgICAgKiBkZWZpbmUgcGFyYW1OYW1lIGFzIHJlcGxhY2VtZW50IGluIGZvcm1hdCA6cGF0aFBhcmFtXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gYDoke29yZGVyZWRLZXlzW2luZGV4XS5uYW1lfWA7XG5cbiAgICAgIC8qKlxuICAgICAgICogaXNvbGF0ZSBwYXJ0IGFmdGVyIHBhcmFtXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHN1YnN0cjIgPSByZXN1bHRQYXRoLnN1YnN0cmluZyhlbmRPZmZzZXQgLSBpbmRleFNoaWZ0KTtcblxuICAgICAgLyoqXG4gICAgICAgKiByZWNyZWF0ZSBvcmlnaW5hbCBwYXRoIGJ1dCB3aXRoIHBhcmFtIHJlcGxhY2VtZW50XG4gICAgICAgKi9cbiAgICAgIHJlc3VsdFBhdGggPSBzdWJzdHIxICsgcmVwbGFjZW1lbnQgKyBzdWJzdHIyO1xuXG4gICAgICAvKipcbiAgICAgICAqIGNhbGN1bGF0ZSBuZXcgaW5kZXggc2hpZnQgYWZ0ZXIgcmVzdWx0UGF0aCB3YXMgbW9kaWZpZWRcbiAgICAgICAqL1xuICAgICAgaW5kZXhTaGlmdCA9IGluZGV4U2hpZnQgKyAoZW5kT2Zmc2V0IC0gc3RhcnRPZmZzZXQgLSByZXBsYWNlbWVudC5sZW5ndGgpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdFBhdGg7XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIGFuZCBzdHJpbmdpZmllcyB0aGUgbGF5ZXIncyByb3V0ZSB3aGljaCBjYW4gZWl0aGVyIGJlIGEgc3RyaW5nIHdpdGggcGFyYW1ldGVycyAoYHVzZXJzLzppZGApLFxuICogYSBSZWdFeCAoYC90ZXN0L2ApIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MgYW5kIHJlZ2V4ZXMgKGBbJy9wYXRoMScsIC9cXC9wYXRoWzItNV0vLCAvcGF0aC86aWRdYCkuIEFkZGl0aW9uYWxseVxuICogcmV0dXJucyBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcm91dGUsIHN1Y2ggYXMgaWYgdGhlIHJvdXRlIGlzIGRlZmluZWQgYXMgcmVnZXggb3IgYXMgYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIGxheWVyIHRoZSBsYXllciB0byBleHRyYWN0IHRoZSBzdHJpbmdpZmllZCByb3V0ZSBmcm9tXG4gKlxuICogQHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHN0cmluZ2lmaWVkIHJvdXRlLCBhIGZsYWcgZGV0ZXJtaW5pbmcgaWYgdGhlIHJvdXRlIHdhcyBhIHJlZ2V4XG4gKiAgICAgICAgICBhbmQgdGhlIG51bWJlciBvZiBleHRyYSBzZWdtZW50cyB0byB0aGUgbWF0Y2hlZCBwYXRoIHRoYXQgYXJlIGFkZGl0aW9uYWxseSBpbiB0aGUgcm91dGUsXG4gKiAgICAgICAgICBpZiB0aGUgcm91dGUgd2FzIGFuIGFycmF5IChkZWZhdWx0cyB0byAwKS5cbiAqL1xuZnVuY3Rpb24gZ2V0TGF5ZXJSb3V0ZVBhdGhJbmZvKGxheWVyKSB7XG4gIGxldCBscnAgPSBfb3B0aW9uYWxDaGFpbihbbGF5ZXIsICdhY2Nlc3MnLCBfMTQgPT4gXzE0LnJvdXRlLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTUgPT4gXzE1LnBhdGhdKTtcblxuICBjb25zdCBpc1JlZ2V4ID0gaXNSZWdFeHAobHJwKTtcbiAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkobHJwKTtcblxuICBpZiAoIWxycCkge1xuICAgIC8vIHBhcnNlIG5vZGUuanMgbWFqb3IgdmVyc2lvblxuICAgIC8vIE5leHQuanMgd2lsbCBjb21wbGFpbiBpZiB3ZSBkaXJlY3RseSB1c2UgYHByb2Nlcy52ZXJzaW9uc2AgaGVyZSBiZWNhdXNlIG9mIGVkZ2UgcnVudGltZS5cbiAgICBjb25zdCBbbWFqb3JdID0gKEdMT0JBTF9PQkogKS5wcm9jZXNzLnZlcnNpb25zLm5vZGUuc3BsaXQoJy4nKS5tYXAoTnVtYmVyKTtcblxuICAgIC8vIGFsbG93IGNhbGwgZXh0cmFjdE9yaWdpbmFsUm91dGUgb25seSBpZiBub2RlIHZlcnNpb24gc3VwcG9ydCBSZWdleCBkIGZsYWcsIG5vZGUgMTYrXG4gICAgaWYgKG1ham9yID49IDE2KSB7XG4gICAgICAvKipcbiAgICAgICAqIElmIGxycCBkb2VzIG5vdCBleGlzdCB0cnkgdG8gcmVjcmVhdGUgb3JpZ2luYWwgbGF5ZXIgcGF0aCBmcm9tIHJvdXRlIHJlZ2V4cFxuICAgICAgICovXG4gICAgICBscnAgPSBleHRyYWN0T3JpZ2luYWxSb3V0ZShsYXllci5wYXRoLCBsYXllci5yZWdleHAsIGxheWVyLmtleXMpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbHJwKSB7XG4gICAgcmV0dXJuIHsgaXNSZWdleCwgaXNBcnJheSwgbnVtRXh0cmFTZWdtZW50czogMCB9O1xuICB9XG5cbiAgY29uc3QgbnVtRXh0cmFTZWdtZW50cyA9IGlzQXJyYXlcbiAgICA/IE1hdGgubWF4KGdldE51bWJlck9mQXJyYXlVcmxTZWdtZW50cyhscnAgKSAtIGdldE51bWJlck9mVXJsU2VnbWVudHMobGF5ZXIucGF0aCB8fCAnJyksIDApXG4gICAgOiAwO1xuXG4gIGNvbnN0IGxheWVyUm91dGVQYXRoID0gZ2V0TGF5ZXJSb3V0ZVBhdGhTdHJpbmcoaXNBcnJheSwgbHJwKTtcblxuICByZXR1cm4geyBsYXllclJvdXRlUGF0aCwgaXNSZWdleCwgaXNBcnJheSwgbnVtRXh0cmFTZWdtZW50cyB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIG51bWJlciBvZiBVUkwgc2VnbWVudHMgaW4gYW4gYXJyYXkgb2Ygcm91dGVzXG4gKlxuICogRXhhbXBsZTogWycvYXBpL3Rlc3QnLCAvXFwvYXBpXFwvcG9zdFswLTldLywgJy91c2Vycy86aWQvZGV0YWlsc2BdIC0+IDdcbiAqL1xuZnVuY3Rpb24gZ2V0TnVtYmVyT2ZBcnJheVVybFNlZ21lbnRzKHJvdXRlc0FycmF5KSB7XG4gIHJldHVybiByb3V0ZXNBcnJheS5yZWR1Y2UoKGFjY051bVNlZ21lbnRzLCBjdXJyZW50Um91dGUpID0+IHtcbiAgICAvLyBhcnJheSBtZW1iZXJzIGNhbiBiZSBhIFJlZ0V4IC0+IGNvbnZlcnQgdGhlbSB0b1N0cmluZ1xuICAgIHJldHVybiBhY2NOdW1TZWdtZW50cyArIGdldE51bWJlck9mVXJsU2VnbWVudHMoY3VycmVudFJvdXRlLnRvU3RyaW5nKCkpO1xuICB9LCAwKTtcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBhbmQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvbiBvZiB0aGUgbGF5ZXJzIHJvdXRlIHBhdGhcbiAqIEhhbmRsZXMgcm91dGUgYXJyYXlzIChieSBqb2luaW5nIHRoZSBwYXRocyB0b2dldGhlcikgYXMgd2VsbCBhcyBSZWdFeHAgYW5kIG5vcm1hbFxuICogc3RyaW5nIHZhbHVlcyAoaW4gdGhlIGxhdHRlciBjYXNlIHRoZSB0b1N0cmluZyBjb252ZXJzaW9uIGlzIHRlY2huaWNhbGx5IHVubmVjZXNzYXJ5IGJ1dFxuICogaXQgZG9lc24ndCBodXJ0IHVzIGVpdGhlcikuXG4gKi9cbmZ1bmN0aW9uIGdldExheWVyUm91dGVQYXRoU3RyaW5nKGlzQXJyYXksIGxycCkge1xuICBpZiAoaXNBcnJheSkge1xuICAgIHJldHVybiAobHJwICkubWFwKHIgPT4gci50b1N0cmluZygpKS5qb2luKCcsJyk7XG4gIH1cbiAgcmV0dXJuIGxycCAmJiBscnAudG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiByZW1vdmUgZHVwbGljYXRlIHNlZ21lbnQgY29udGFpbiBpbiBsYXllclBhdGggYWdhaW5zdCByZWNvbnN0cnVjdGVkUm91dGUsXG4gKiBhbmQgcmV0dXJuIG9ubHkgdW5pcXVlIHNlZ21lbnQgdGhhdCBjYW4gYmUgYWRkZWQgaW50byByZWNvbnN0cnVjdGVkUm91dGVcbiAqL1xuZnVuY3Rpb24gcHJldmVudER1cGxpY2F0ZVNlZ21lbnRzKFxuICBvcmlnaW5hbFVybCxcbiAgcmVjb25zdHJ1Y3RlZFJvdXRlLFxuICBsYXllclBhdGgsXG4pIHtcbiAgLy8gZmlsdGVyIHF1ZXJ5IHBhcmFtc1xuICBjb25zdCBub3JtYWxpemVVUkwgPSBzdHJpcFVybFF1ZXJ5QW5kRnJhZ21lbnQob3JpZ2luYWxVcmwgfHwgJycpO1xuICBjb25zdCBvcmlnaW5hbFVybFNwbGl0ID0gX29wdGlvbmFsQ2hhaW4oW25vcm1hbGl6ZVVSTCwgJ29wdGlvbmFsQWNjZXNzJywgXzE2ID0+IF8xNi5zcGxpdCwgJ2NhbGwnLCBfMTcgPT4gXzE3KCcvJyksICdhY2Nlc3MnLCBfMTggPT4gXzE4LmZpbHRlciwgJ2NhbGwnLCBfMTkgPT4gXzE5KHYgPT4gISF2KV0pO1xuICBsZXQgdGVtcENvdW50ZXIgPSAwO1xuICBjb25zdCBjdXJyZW50T2Zmc2V0ID0gX29wdGlvbmFsQ2hhaW4oW3JlY29uc3RydWN0ZWRSb3V0ZSwgJ29wdGlvbmFsQWNjZXNzJywgXzIwID0+IF8yMC5zcGxpdCwgJ2NhbGwnLCBfMjEgPT4gXzIxKCcvJyksICdhY2Nlc3MnLCBfMjIgPT4gXzIyLmZpbHRlciwgJ2NhbGwnLCBfMjMgPT4gXzIzKHYgPT4gISF2KSwgJ2FjY2VzcycsIF8yNCA9PiBfMjQubGVuZ3RoXSkgfHwgMDtcbiAgY29uc3QgcmVzdWx0ID0gX29wdGlvbmFsQ2hhaW4oW2xheWVyUGF0aFxuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMjUgPT4gXzI1LnNwbGl0LCAnY2FsbCcsIF8yNiA9PiBfMjYoJy8nKVxuLCAnYWNjZXNzJywgXzI3ID0+IF8yNy5maWx0ZXIsICdjYWxsJywgXzI4ID0+IF8yOChzZWdtZW50ID0+IHtcbiAgICAgIGlmIChfb3B0aW9uYWxDaGFpbihbb3JpZ2luYWxVcmxTcGxpdCwgJ29wdGlvbmFsQWNjZXNzJywgXzI5ID0+IF8yOVtjdXJyZW50T2Zmc2V0ICsgdGVtcENvdW50ZXJdXSkgPT09IHNlZ21lbnQpIHtcbiAgICAgICAgdGVtcENvdW50ZXIgKz0gMTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSlcbiwgJ2FjY2VzcycsIF8zMCA9PiBfMzAuam9pbiwgJ2NhbGwnLCBfMzEgPT4gXzMxKCcvJyldKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHsgRXhwcmVzcywgZXh0cmFjdE9yaWdpbmFsUm91dGUsIHByZXZlbnREdXBsaWNhdGVTZWdtZW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhwcmVzcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/express.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/graphql.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/graphql.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GraphQL: () => (/* binding */ GraphQL)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/node.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/object.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/is.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\n/** Tracing integration for graphql package */\nclass GraphQL  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'GraphQL';}\n\n  /**\n   * @inheritDoc\n   */\n\n   constructor() {\n    this.name = GraphQL.id;\n  }\n\n  /** @inheritdoc */\n   loadDependency() {\n    return (this._module = this._module || (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.loadModule)('graphql/execution/execute.js'));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__.shouldDisableAutoInstrumentation)(getCurrentHub)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.log('GraphQL Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    const pkg = this.loadDependency();\n\n    if (!pkg) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('GraphQL Integration was unable to require graphql/execution package.');\n      return;\n    }\n\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(pkg, 'execute', function (orig) {\n      return function ( ...args) {\n        // eslint-disable-next-line deprecation/deprecation\n        const scope = getCurrentHub().getScope();\n        // eslint-disable-next-line deprecation/deprecation\n        const parentSpan = scope.getSpan();\n\n        // eslint-disable-next-line deprecation/deprecation\n        const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([parentSpan, 'optionalAccess', _2 => _2.startChild, 'call', _3 => _3({\n          description: 'execute',\n          op: 'graphql.execute',\n          origin: 'auto.graphql.graphql',\n        })]);\n\n        // eslint-disable-next-line deprecation/deprecation\n        (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([scope, 'optionalAccess', _4 => _4.setSpan, 'call', _5 => _5(span)]);\n\n        const rv = orig.call(this, ...args);\n\n        if ((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__.isThenable)(rv)) {\n          return rv.then((res) => {\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _6 => _6.end, 'call', _7 => _7()]);\n            // eslint-disable-next-line deprecation/deprecation\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([scope, 'optionalAccess', _8 => _8.setSpan, 'call', _9 => _9(parentSpan)]);\n\n            return res;\n          });\n        }\n\n        (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _10 => _10.end, 'call', _11 => _11()]);\n        // eslint-disable-next-line deprecation/deprecation\n        (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([scope, 'optionalAccess', _12 => _12.setSpan, 'call', _13 => _13(parentSpan)]);\n        return rv;\n      };\n    });\n  }\n}GraphQL.__initStatic();\n\n\n//# sourceMappingURL=graphql.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9ncmFwaHFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStDO0FBQ3NCO0FBQ1g7QUFDZTs7QUFFekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLHlEQUFVO0FBQ3JEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNGQUFnQztBQUN4QyxNQUFNLCtEQUFXLElBQUksaURBQU07QUFDM0I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0sK0RBQVcsSUFBSSxpREFBTTtBQUMzQjtBQUNBOztBQUVBLElBQUksbURBQUk7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLDZEQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxRQUFRLDZEQUFjOztBQUV0Qjs7QUFFQSxZQUFZLHlEQUFVO0FBQ3RCO0FBQ0EsWUFBWSw2REFBYztBQUMxQjtBQUNBLFlBQVksNkRBQWM7O0FBRTFCO0FBQ0EsV0FBVztBQUNYOztBQUVBLFFBQVEsNkRBQWM7QUFDdEI7QUFDQSxRQUFRLDZEQUFjO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDOztBQUVrQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2pzbV9iYW5raW5nLy4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vbm9kZS9pbnRlZ3JhdGlvbnMvZ3JhcGhxbC5qcz82OWE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9vcHRpb25hbENoYWluIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBsb2FkTW9kdWxlLCBsb2dnZXIsIGZpbGwsIGlzVGhlbmFibGUgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IERFQlVHX0JVSUxEIH0gZnJvbSAnLi4vLi4vY29tbW9uL2RlYnVnLWJ1aWxkLmpzJztcbmltcG9ydCB7IHNob3VsZERpc2FibGVBdXRvSW5zdHJ1bWVudGF0aW9uIH0gZnJvbSAnLi91dGlscy9ub2RlLXV0aWxzLmpzJztcblxuLyoqIFRyYWNpbmcgaW50ZWdyYXRpb24gZm9yIGdyYXBocWwgcGFja2FnZSAqL1xuY2xhc3MgR3JhcGhRTCAge1xuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMuaWQgPSAnR3JhcGhRTCc7fVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cblxuICAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5uYW1lID0gR3JhcGhRTC5pZDtcbiAgfVxuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgbG9hZERlcGVuZGVuY3koKSB7XG4gICAgcmV0dXJuICh0aGlzLl9tb2R1bGUgPSB0aGlzLl9tb2R1bGUgfHwgbG9hZE1vZHVsZSgnZ3JhcGhxbC9leGVjdXRpb24vZXhlY3V0ZS5qcycpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICBzZXR1cE9uY2UoXywgZ2V0Q3VycmVudEh1Yikge1xuICAgIGlmIChzaG91bGREaXNhYmxlQXV0b0luc3RydW1lbnRhdGlvbihnZXRDdXJyZW50SHViKSkge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZygnR3JhcGhRTCBJbnRlZ3JhdGlvbiBpcyBza2lwcGVkIGJlY2F1c2Ugb2YgaW5zdHJ1bWVudGVyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGtnID0gdGhpcy5sb2FkRGVwZW5kZW5jeSgpO1xuXG4gICAgaWYgKCFwa2cpIHtcbiAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5lcnJvcignR3JhcGhRTCBJbnRlZ3JhdGlvbiB3YXMgdW5hYmxlIHRvIHJlcXVpcmUgZ3JhcGhxbC9leGVjdXRpb24gcGFja2FnZS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmaWxsKHBrZywgJ2V4ZWN1dGUnLCBmdW5jdGlvbiAob3JpZykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICggLi4uYXJncykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50SHViKCkuZ2V0U2NvcGUoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIGNvbnN0IHBhcmVudFNwYW4gPSBzY29wZS5nZXRTcGFuKCk7XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIGNvbnN0IHNwYW4gPSBfb3B0aW9uYWxDaGFpbihbcGFyZW50U3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzIgPT4gXzIuc3RhcnRDaGlsZCwgJ2NhbGwnLCBfMyA9PiBfMyh7XG4gICAgICAgICAgZGVzY3JpcHRpb246ICdleGVjdXRlJyxcbiAgICAgICAgICBvcDogJ2dyYXBocWwuZXhlY3V0ZScsXG4gICAgICAgICAgb3JpZ2luOiAnYXV0by5ncmFwaHFsLmdyYXBocWwnLFxuICAgICAgICB9KV0pO1xuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBfb3B0aW9uYWxDaGFpbihbc2NvcGUsICdvcHRpb25hbEFjY2VzcycsIF80ID0+IF80LnNldFNwYW4sICdjYWxsJywgXzUgPT4gXzUoc3BhbildKTtcblxuICAgICAgICBjb25zdCBydiA9IG9yaWcuY2FsbCh0aGlzLCAuLi5hcmdzKTtcblxuICAgICAgICBpZiAoaXNUaGVuYWJsZShydikpIHtcbiAgICAgICAgICByZXR1cm4gcnYudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBfb3B0aW9uYWxDaGFpbihbc3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzYgPT4gXzYuZW5kLCAnY2FsbCcsIF83ID0+IF83KCldKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3Njb3BlLCAnb3B0aW9uYWxBY2Nlc3MnLCBfOCA9PiBfOC5zZXRTcGFuLCAnY2FsbCcsIF85ID0+IF85KHBhcmVudFNwYW4pXSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfb3B0aW9uYWxDaGFpbihbc3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzEwID0+IF8xMC5lbmQsICdjYWxsJywgXzExID0+IF8xMSgpXSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBfb3B0aW9uYWxDaGFpbihbc2NvcGUsICdvcHRpb25hbEFjY2VzcycsIF8xMiA9PiBfMTIuc2V0U3BhbiwgJ2NhbGwnLCBfMTMgPT4gXzEzKHBhcmVudFNwYW4pXSk7XG4gICAgICAgIHJldHVybiBydjtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn1HcmFwaFFMLl9faW5pdFN0YXRpYygpO1xuXG5leHBvcnQgeyBHcmFwaFFMIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaHFsLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/graphql.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/lazy.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/lazy.js ***!
  \*****************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   lazyLoadedNodePerformanceMonitoringIntegrations: () => (/* binding */ lazyLoadedNodePerformanceMonitoringIntegrations)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/node.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\nconst lazyLoadedNodePerformanceMonitoringIntegrations = [\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './apollo')\n\n;\n    return new integration.Apollo();\n  },\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './apollo')\n\n;\n    return new integration.Apollo({ useNestjs: true });\n  },\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './graphql')\n\n;\n    return new integration.GraphQL();\n  },\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './mongo')\n\n;\n    return new integration.Mongo();\n  },\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './mongo')\n\n;\n    return new integration.Mongo({ mongoose: true });\n  },\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './mysql')\n\n;\n    return new integration.Mysql();\n  },\n  () => {\n    const integration = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.dynamicRequire)(module, './postgres')\n\n;\n    return new integration.Postgres();\n  },\n];\n\n\n//# sourceMappingURL=lazy.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9sYXp5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQzs7QUFFL0M7QUFDQTtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQSxvQ0FBb0MsaUJBQWlCO0FBQ3JELEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQSxtQ0FBbUMsZ0JBQWdCO0FBQ25ELEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdCQUF3Qiw2REFBYzs7QUFFdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFMkQ7QUFDM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc21fYmFua2luZy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL25vZGUvaW50ZWdyYXRpb25zL2xhenkuanM/MTU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkeW5hbWljUmVxdWlyZSB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuXG5jb25zdCBsYXp5TG9hZGVkTm9kZVBlcmZvcm1hbmNlTW9uaXRvcmluZ0ludGVncmF0aW9ucyA9IFtcbiAgKCkgPT4ge1xuICAgIGNvbnN0IGludGVncmF0aW9uID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnLi9hcG9sbG8nKVxuXG47XG4gICAgcmV0dXJuIG5ldyBpbnRlZ3JhdGlvbi5BcG9sbG8oKTtcbiAgfSxcbiAgKCkgPT4ge1xuICAgIGNvbnN0IGludGVncmF0aW9uID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnLi9hcG9sbG8nKVxuXG47XG4gICAgcmV0dXJuIG5ldyBpbnRlZ3JhdGlvbi5BcG9sbG8oeyB1c2VOZXN0anM6IHRydWUgfSk7XG4gIH0sXG4gICgpID0+IHtcbiAgICBjb25zdCBpbnRlZ3JhdGlvbiA9IGR5bmFtaWNSZXF1aXJlKG1vZHVsZSwgJy4vZ3JhcGhxbCcpXG5cbjtcbiAgICByZXR1cm4gbmV3IGludGVncmF0aW9uLkdyYXBoUUwoKTtcbiAgfSxcbiAgKCkgPT4ge1xuICAgIGNvbnN0IGludGVncmF0aW9uID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnLi9tb25nbycpXG5cbjtcbiAgICByZXR1cm4gbmV3IGludGVncmF0aW9uLk1vbmdvKCk7XG4gIH0sXG4gICgpID0+IHtcbiAgICBjb25zdCBpbnRlZ3JhdGlvbiA9IGR5bmFtaWNSZXF1aXJlKG1vZHVsZSwgJy4vbW9uZ28nKVxuXG47XG4gICAgcmV0dXJuIG5ldyBpbnRlZ3JhdGlvbi5Nb25nbyh7IG1vbmdvb3NlOiB0cnVlIH0pO1xuICB9LFxuICAoKSA9PiB7XG4gICAgY29uc3QgaW50ZWdyYXRpb24gPSBkeW5hbWljUmVxdWlyZShtb2R1bGUsICcuL215c3FsJylcblxuO1xuICAgIHJldHVybiBuZXcgaW50ZWdyYXRpb24uTXlzcWwoKTtcbiAgfSxcbiAgKCkgPT4ge1xuICAgIGNvbnN0IGludGVncmF0aW9uID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnLi9wb3N0Z3JlcycpXG5cbjtcbiAgICByZXR1cm4gbmV3IGludGVncmF0aW9uLlBvc3RncmVzKCk7XG4gIH0sXG5dO1xuXG5leHBvcnQgeyBsYXp5TG9hZGVkTm9kZVBlcmZvcm1hbmNlTW9uaXRvcmluZ0ludGVncmF0aW9ucyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGF6eS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/lazy.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/mongo.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/mongo.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Mongo: () => (/* binding */ Mongo)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/node.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/object.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/is.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\n// This allows us to use the same array for both defaults options and the type itself.\n// (note `as const` at the end to make it a union of string literal types (i.e. \"a\" | \"b\" | ... )\n// and not just a string[])\n\nconst OPERATIONS = [\n  'aggregate', // aggregate(pipeline, options, callback)\n  'bulkWrite', // bulkWrite(operations, options, callback)\n  'countDocuments', // countDocuments(query, options, callback)\n  'createIndex', // createIndex(fieldOrSpec, options, callback)\n  'createIndexes', // createIndexes(indexSpecs, options, callback)\n  'deleteMany', // deleteMany(filter, options, callback)\n  'deleteOne', // deleteOne(filter, options, callback)\n  'distinct', // distinct(key, query, options, callback)\n  'drop', // drop(options, callback)\n  'dropIndex', // dropIndex(indexName, options, callback)\n  'dropIndexes', // dropIndexes(options, callback)\n  'estimatedDocumentCount', // estimatedDocumentCount(options, callback)\n  'find', // find(query, options, callback)\n  'findOne', // findOne(query, options, callback)\n  'findOneAndDelete', // findOneAndDelete(filter, options, callback)\n  'findOneAndReplace', // findOneAndReplace(filter, replacement, options, callback)\n  'findOneAndUpdate', // findOneAndUpdate(filter, update, options, callback)\n  'indexes', // indexes(options, callback)\n  'indexExists', // indexExists(indexes, options, callback)\n  'indexInformation', // indexInformation(options, callback)\n  'initializeOrderedBulkOp', // initializeOrderedBulkOp(options, callback)\n  'insertMany', // insertMany(docs, options, callback)\n  'insertOne', // insertOne(doc, options, callback)\n  'isCapped', // isCapped(options, callback)\n  'mapReduce', // mapReduce(map, reduce, options, callback)\n  'options', // options(options, callback)\n  'parallelCollectionScan', // parallelCollectionScan(options, callback)\n  'rename', // rename(newName, options, callback)\n  'replaceOne', // replaceOne(filter, doc, options, callback)\n  'stats', // stats(options, callback)\n  'updateMany', // updateMany(filter, update, options, callback)\n  'updateOne', // updateOne(filter, update, options, callback)\n] ;\n\n// All of the operations above take `options` and `callback` as their final parameters, but some of them\n// take additional parameters as well. For those operations, this is a map of\n// { <operation name>:  [<names of additional parameters>] }, as a way to know what to call the operation's\n// positional arguments when we add them to the span's `data` object later\nconst OPERATION_SIGNATURES\n\n = {\n  // aggregate intentionally not included because `pipeline` arguments are too complex to serialize well\n  // see https://github.com/getsentry/sentry-javascript/pull/3102\n  bulkWrite: ['operations'],\n  countDocuments: ['query'],\n  createIndex: ['fieldOrSpec'],\n  createIndexes: ['indexSpecs'],\n  deleteMany: ['filter'],\n  deleteOne: ['filter'],\n  distinct: ['key', 'query'],\n  dropIndex: ['indexName'],\n  find: ['query'],\n  findOne: ['query'],\n  findOneAndDelete: ['filter'],\n  findOneAndReplace: ['filter', 'replacement'],\n  findOneAndUpdate: ['filter', 'update'],\n  indexExists: ['indexes'],\n  insertMany: ['docs'],\n  insertOne: ['doc'],\n  mapReduce: ['map', 'reduce'],\n  rename: ['newName'],\n  replaceOne: ['filter', 'doc'],\n  updateMany: ['filter', 'update'],\n  updateOne: ['filter', 'update'],\n};\n\nfunction isCursor(maybeCursor) {\n  return maybeCursor && typeof maybeCursor === 'object' && maybeCursor.once && typeof maybeCursor.once === 'function';\n}\n\n/** Tracing integration for mongo package */\nclass Mongo  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Mongo';}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options = {}) {\n    this.name = Mongo.id;\n    this._operations = Array.isArray(options.operations) ? options.operations : (OPERATIONS );\n    this._describeOperations = 'describeOperations' in options ? options.describeOperations : true;\n    this._useMongoose = !!options.useMongoose;\n  }\n\n  /** @inheritdoc */\n   loadDependency() {\n    const moduleName = this._useMongoose ? 'mongoose' : 'mongodb';\n    return (this._module = this._module || (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.loadModule)(moduleName));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__.shouldDisableAutoInstrumentation)(getCurrentHub)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.log('Mongo Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    const pkg = this.loadDependency();\n\n    if (!pkg) {\n      const moduleName = this._useMongoose ? 'mongoose' : 'mongodb';\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error(`Mongo Integration was unable to require \\`${moduleName}\\` package.`);\n      return;\n    }\n\n    this._instrumentOperations(pkg.Collection, this._operations, getCurrentHub);\n  }\n\n  /**\n   * Patches original collection methods\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   _instrumentOperations(collection, operations, getCurrentHub) {\n    operations.forEach((operation) => this._patchOperation(collection, operation, getCurrentHub));\n  }\n\n  /**\n   * Patches original collection to utilize our tracing functionality\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   _patchOperation(collection, operation, getCurrentHub) {\n    if (!(operation in collection.prototype)) return;\n\n    const getSpanContext = this._getSpanContextFromOperationArguments.bind(this);\n\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(collection.prototype, operation, function (orig) {\n      return function ( ...args) {\n        const lastArg = args[args.length - 1];\n        // eslint-disable-next-line deprecation/deprecation\n        const hub = getCurrentHub();\n        // eslint-disable-next-line deprecation/deprecation\n        const scope = hub.getScope();\n        // eslint-disable-next-line deprecation/deprecation\n        const client = hub.getClient();\n        // eslint-disable-next-line deprecation/deprecation\n        const parentSpan = scope.getSpan();\n\n        const sendDefaultPii = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([client, 'optionalAccess', _2 => _2.getOptions, 'call', _3 => _3(), 'access', _4 => _4.sendDefaultPii]);\n\n        // Check if the operation was passed a callback. (mapReduce requires a different check, as\n        // its (non-callback) arguments can also be functions.)\n        if (typeof lastArg !== 'function' || (operation === 'mapReduce' && args.length === 2)) {\n          // eslint-disable-next-line deprecation/deprecation\n          const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([parentSpan, 'optionalAccess', _5 => _5.startChild, 'call', _6 => _6(getSpanContext(this, operation, args, sendDefaultPii))]);\n          const maybePromiseOrCursor = orig.call(this, ...args);\n\n          if ((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__.isThenable)(maybePromiseOrCursor)) {\n            return maybePromiseOrCursor.then((res) => {\n              (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _7 => _7.end, 'call', _8 => _8()]);\n              return res;\n            });\n          }\n          // If the operation returns a Cursor\n          // we need to attach a listener to it to finish the span when the cursor is closed.\n          else if (isCursor(maybePromiseOrCursor)) {\n            const cursor = maybePromiseOrCursor ;\n\n            try {\n              cursor.once('close', () => {\n                (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _9 => _9.end, 'call', _10 => _10()]);\n              });\n            } catch (e) {\n              // If the cursor is already closed, `once` will throw an error. In that case, we can\n              // finish the span immediately.\n              (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _11 => _11.end, 'call', _12 => _12()]);\n            }\n\n            return cursor;\n          } else {\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _13 => _13.end, 'call', _14 => _14()]);\n            return maybePromiseOrCursor;\n          }\n        }\n\n        // eslint-disable-next-line deprecation/deprecation\n        const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([parentSpan, 'optionalAccess', _15 => _15.startChild, 'call', _16 => _16(getSpanContext(this, operation, args.slice(0, -1)))]);\n\n        return orig.call(this, ...args.slice(0, -1), function (err, result) {\n          (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([span, 'optionalAccess', _17 => _17.end, 'call', _18 => _18()]);\n          lastArg(err, result);\n        });\n      };\n    });\n  }\n\n  /**\n   * Form a SpanContext based on the user input to a given operation.\n   */\n   _getSpanContextFromOperationArguments(\n    collection,\n    operation,\n    args,\n    sendDefaultPii = false,\n  ) {\n    const data = {\n      'db.system': 'mongodb',\n      'db.name': collection.dbName,\n      'db.operation': operation,\n      'db.mongodb.collection': collection.collectionName,\n    };\n    const spanContext = {\n      op: 'db',\n      // TODO v8: Use `${collection.collectionName}.${operation}`\n      origin: 'auto.db.mongo',\n      description: operation,\n      data,\n    };\n\n    // If the operation takes no arguments besides `options` and `callback`, or if argument\n    // collection is disabled for this operation, just return early.\n    const signature = OPERATION_SIGNATURES[operation];\n    const shouldDescribe = Array.isArray(this._describeOperations)\n      ? this._describeOperations.includes(operation)\n      : this._describeOperations;\n\n    if (!signature || !shouldDescribe || !sendDefaultPii) {\n      return spanContext;\n    }\n\n    try {\n      // Special case for `mapReduce`, as the only one accepting functions as arguments.\n      if (operation === 'mapReduce') {\n        const [map, reduce] = args ;\n        data[signature[0]] = typeof map === 'string' ? map : map.name || '<anonymous>';\n        data[signature[1]] = typeof reduce === 'string' ? reduce : reduce.name || '<anonymous>';\n      } else {\n        for (let i = 0; i < signature.length; i++) {\n          data[`db.mongodb.${signature[i]}`] = JSON.stringify(args[i]);\n        }\n      }\n    } catch (_oO) {\n      // no-empty\n    }\n\n    return spanContext;\n  }\n}Mongo.__initStatic();\n\n\n//# sourceMappingURL=mongo.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9tb25nby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErQztBQUNzQjtBQUNYO0FBQ2U7O0FBRXpFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSyx1REFBdUQ7QUFDNUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyx5REFBVTtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRkFBZ0M7QUFDeEMsTUFBTSwrREFBVyxJQUFJLGlEQUFNO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU0sK0RBQVcsSUFBSSxpREFBTSxvREFBb0QsV0FBVztBQUMxRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLElBQUksbURBQUk7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQkFBK0IsNkRBQWM7O0FBRTdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZEQUFjO0FBQ3JDOztBQUVBLGNBQWMseURBQVU7QUFDeEI7QUFDQSxjQUFjLDZEQUFjO0FBQzVCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQiw2REFBYztBQUM5QixlQUFlO0FBQ2YsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjLDZEQUFjO0FBQzVCOztBQUVBO0FBQ0EsWUFBWTtBQUNaLFlBQVksNkRBQWM7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLDZEQUFjOztBQUVuQztBQUNBLFVBQVUsNkRBQWM7QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQkFBMEIsR0FBRyxVQUFVO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHdCQUF3QixzQkFBc0I7QUFDOUMsNkJBQTZCLGFBQWE7QUFDMUM7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVnQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2pzbV9iYW5raW5nLy4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vbm9kZS9pbnRlZ3JhdGlvbnMvbW9uZ28uanM/N2NhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfb3B0aW9uYWxDaGFpbiB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgbG9hZE1vZHVsZSwgbG9nZ2VyLCBmaWxsLCBpc1RoZW5hYmxlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBERUJVR19CVUlMRCB9IGZyb20gJy4uLy4uL2NvbW1vbi9kZWJ1Zy1idWlsZC5qcyc7XG5pbXBvcnQgeyBzaG91bGREaXNhYmxlQXV0b0luc3RydW1lbnRhdGlvbiB9IGZyb20gJy4vdXRpbHMvbm9kZS11dGlscy5qcyc7XG5cbi8vIFRoaXMgYWxsb3dzIHVzIHRvIHVzZSB0aGUgc2FtZSBhcnJheSBmb3IgYm90aCBkZWZhdWx0cyBvcHRpb25zIGFuZCB0aGUgdHlwZSBpdHNlbGYuXG4vLyAobm90ZSBgYXMgY29uc3RgIGF0IHRoZSBlbmQgdG8gbWFrZSBpdCBhIHVuaW9uIG9mIHN0cmluZyBsaXRlcmFsIHR5cGVzIChpLmUuIFwiYVwiIHwgXCJiXCIgfCAuLi4gKVxuLy8gYW5kIG5vdCBqdXN0IGEgc3RyaW5nW10pXG5cbmNvbnN0IE9QRVJBVElPTlMgPSBbXG4gICdhZ2dyZWdhdGUnLCAvLyBhZ2dyZWdhdGUocGlwZWxpbmUsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnYnVsa1dyaXRlJywgLy8gYnVsa1dyaXRlKG9wZXJhdGlvbnMsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnY291bnREb2N1bWVudHMnLCAvLyBjb3VudERvY3VtZW50cyhxdWVyeSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICdjcmVhdGVJbmRleCcsIC8vIGNyZWF0ZUluZGV4KGZpZWxkT3JTcGVjLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2NyZWF0ZUluZGV4ZXMnLCAvLyBjcmVhdGVJbmRleGVzKGluZGV4U3BlY3MsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnZGVsZXRlTWFueScsIC8vIGRlbGV0ZU1hbnkoZmlsdGVyLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2RlbGV0ZU9uZScsIC8vIGRlbGV0ZU9uZShmaWx0ZXIsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnZGlzdGluY3QnLCAvLyBkaXN0aW5jdChrZXksIHF1ZXJ5LCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2Ryb3AnLCAvLyBkcm9wKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnZHJvcEluZGV4JywgLy8gZHJvcEluZGV4KGluZGV4TmFtZSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICdkcm9wSW5kZXhlcycsIC8vIGRyb3BJbmRleGVzKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnZXN0aW1hdGVkRG9jdW1lbnRDb3VudCcsIC8vIGVzdGltYXRlZERvY3VtZW50Q291bnQob3B0aW9ucywgY2FsbGJhY2spXG4gICdmaW5kJywgLy8gZmluZChxdWVyeSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICdmaW5kT25lJywgLy8gZmluZE9uZShxdWVyeSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICdmaW5kT25lQW5kRGVsZXRlJywgLy8gZmluZE9uZUFuZERlbGV0ZShmaWx0ZXIsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnZmluZE9uZUFuZFJlcGxhY2UnLCAvLyBmaW5kT25lQW5kUmVwbGFjZShmaWx0ZXIsIHJlcGxhY2VtZW50LCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2ZpbmRPbmVBbmRVcGRhdGUnLCAvLyBmaW5kT25lQW5kVXBkYXRlKGZpbHRlciwgdXBkYXRlLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2luZGV4ZXMnLCAvLyBpbmRleGVzKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnaW5kZXhFeGlzdHMnLCAvLyBpbmRleEV4aXN0cyhpbmRleGVzLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2luZGV4SW5mb3JtYXRpb24nLCAvLyBpbmRleEluZm9ybWF0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnaW5pdGlhbGl6ZU9yZGVyZWRCdWxrT3AnLCAvLyBpbml0aWFsaXplT3JkZXJlZEJ1bGtPcChvcHRpb25zLCBjYWxsYmFjaylcbiAgJ2luc2VydE1hbnknLCAvLyBpbnNlcnRNYW55KGRvY3MsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnaW5zZXJ0T25lJywgLy8gaW5zZXJ0T25lKGRvYywgb3B0aW9ucywgY2FsbGJhY2spXG4gICdpc0NhcHBlZCcsIC8vIGlzQ2FwcGVkKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAnbWFwUmVkdWNlJywgLy8gbWFwUmVkdWNlKG1hcCwgcmVkdWNlLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgJ29wdGlvbnMnLCAvLyBvcHRpb25zKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAncGFyYWxsZWxDb2xsZWN0aW9uU2NhbicsIC8vIHBhcmFsbGVsQ29sbGVjdGlvblNjYW4ob3B0aW9ucywgY2FsbGJhY2spXG4gICdyZW5hbWUnLCAvLyByZW5hbWUobmV3TmFtZSwgb3B0aW9ucywgY2FsbGJhY2spXG4gICdyZXBsYWNlT25lJywgLy8gcmVwbGFjZU9uZShmaWx0ZXIsIGRvYywgb3B0aW9ucywgY2FsbGJhY2spXG4gICdzdGF0cycsIC8vIHN0YXRzKG9wdGlvbnMsIGNhbGxiYWNrKVxuICAndXBkYXRlTWFueScsIC8vIHVwZGF0ZU1hbnkoZmlsdGVyLCB1cGRhdGUsIG9wdGlvbnMsIGNhbGxiYWNrKVxuICAndXBkYXRlT25lJywgLy8gdXBkYXRlT25lKGZpbHRlciwgdXBkYXRlLCBvcHRpb25zLCBjYWxsYmFjaylcbl0gO1xuXG4vLyBBbGwgb2YgdGhlIG9wZXJhdGlvbnMgYWJvdmUgdGFrZSBgb3B0aW9uc2AgYW5kIGBjYWxsYmFja2AgYXMgdGhlaXIgZmluYWwgcGFyYW1ldGVycywgYnV0IHNvbWUgb2YgdGhlbVxuLy8gdGFrZSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgYXMgd2VsbC4gRm9yIHRob3NlIG9wZXJhdGlvbnMsIHRoaXMgaXMgYSBtYXAgb2Zcbi8vIHsgPG9wZXJhdGlvbiBuYW1lPjogIFs8bmFtZXMgb2YgYWRkaXRpb25hbCBwYXJhbWV0ZXJzPl0gfSwgYXMgYSB3YXkgdG8ga25vdyB3aGF0IHRvIGNhbGwgdGhlIG9wZXJhdGlvbidzXG4vLyBwb3NpdGlvbmFsIGFyZ3VtZW50cyB3aGVuIHdlIGFkZCB0aGVtIHRvIHRoZSBzcGFuJ3MgYGRhdGFgIG9iamVjdCBsYXRlclxuY29uc3QgT1BFUkFUSU9OX1NJR05BVFVSRVNcblxuID0ge1xuICAvLyBhZ2dyZWdhdGUgaW50ZW50aW9uYWxseSBub3QgaW5jbHVkZWQgYmVjYXVzZSBgcGlwZWxpbmVgIGFyZ3VtZW50cyBhcmUgdG9vIGNvbXBsZXggdG8gc2VyaWFsaXplIHdlbGxcbiAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvcHVsbC8zMTAyXG4gIGJ1bGtXcml0ZTogWydvcGVyYXRpb25zJ10sXG4gIGNvdW50RG9jdW1lbnRzOiBbJ3F1ZXJ5J10sXG4gIGNyZWF0ZUluZGV4OiBbJ2ZpZWxkT3JTcGVjJ10sXG4gIGNyZWF0ZUluZGV4ZXM6IFsnaW5kZXhTcGVjcyddLFxuICBkZWxldGVNYW55OiBbJ2ZpbHRlciddLFxuICBkZWxldGVPbmU6IFsnZmlsdGVyJ10sXG4gIGRpc3RpbmN0OiBbJ2tleScsICdxdWVyeSddLFxuICBkcm9wSW5kZXg6IFsnaW5kZXhOYW1lJ10sXG4gIGZpbmQ6IFsncXVlcnknXSxcbiAgZmluZE9uZTogWydxdWVyeSddLFxuICBmaW5kT25lQW5kRGVsZXRlOiBbJ2ZpbHRlciddLFxuICBmaW5kT25lQW5kUmVwbGFjZTogWydmaWx0ZXInLCAncmVwbGFjZW1lbnQnXSxcbiAgZmluZE9uZUFuZFVwZGF0ZTogWydmaWx0ZXInLCAndXBkYXRlJ10sXG4gIGluZGV4RXhpc3RzOiBbJ2luZGV4ZXMnXSxcbiAgaW5zZXJ0TWFueTogWydkb2NzJ10sXG4gIGluc2VydE9uZTogWydkb2MnXSxcbiAgbWFwUmVkdWNlOiBbJ21hcCcsICdyZWR1Y2UnXSxcbiAgcmVuYW1lOiBbJ25ld05hbWUnXSxcbiAgcmVwbGFjZU9uZTogWydmaWx0ZXInLCAnZG9jJ10sXG4gIHVwZGF0ZU1hbnk6IFsnZmlsdGVyJywgJ3VwZGF0ZSddLFxuICB1cGRhdGVPbmU6IFsnZmlsdGVyJywgJ3VwZGF0ZSddLFxufTtcblxuZnVuY3Rpb24gaXNDdXJzb3IobWF5YmVDdXJzb3IpIHtcbiAgcmV0dXJuIG1heWJlQ3Vyc29yICYmIHR5cGVvZiBtYXliZUN1cnNvciA9PT0gJ29iamVjdCcgJiYgbWF5YmVDdXJzb3Iub25jZSAmJiB0eXBlb2YgbWF5YmVDdXJzb3Iub25jZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLyoqIFRyYWNpbmcgaW50ZWdyYXRpb24gZm9yIG1vbmdvIHBhY2thZ2UgKi9cbmNsYXNzIE1vbmdvICB7XG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgIHN0YXRpYyBfX2luaXRTdGF0aWMoKSB7dGhpcy5pZCA9ICdNb25nbyc7fVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLm5hbWUgPSBNb25nby5pZDtcbiAgICB0aGlzLl9vcGVyYXRpb25zID0gQXJyYXkuaXNBcnJheShvcHRpb25zLm9wZXJhdGlvbnMpID8gb3B0aW9ucy5vcGVyYXRpb25zIDogKE9QRVJBVElPTlMgKTtcbiAgICB0aGlzLl9kZXNjcmliZU9wZXJhdGlvbnMgPSAnZGVzY3JpYmVPcGVyYXRpb25zJyBpbiBvcHRpb25zID8gb3B0aW9ucy5kZXNjcmliZU9wZXJhdGlvbnMgOiB0cnVlO1xuICAgIHRoaXMuX3VzZU1vbmdvb3NlID0gISFvcHRpb25zLnVzZU1vbmdvb3NlO1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gICBsb2FkRGVwZW5kZW5jeSgpIHtcbiAgICBjb25zdCBtb2R1bGVOYW1lID0gdGhpcy5fdXNlTW9uZ29vc2UgPyAnbW9uZ29vc2UnIDogJ21vbmdvZGInO1xuICAgIHJldHVybiAodGhpcy5fbW9kdWxlID0gdGhpcy5fbW9kdWxlIHx8IGxvYWRNb2R1bGUobW9kdWxlTmFtZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgIHNldHVwT25jZShfLCBnZXRDdXJyZW50SHViKSB7XG4gICAgaWYgKHNob3VsZERpc2FibGVBdXRvSW5zdHJ1bWVudGF0aW9uKGdldEN1cnJlbnRIdWIpKSB7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIubG9nKCdNb25nbyBJbnRlZ3JhdGlvbiBpcyBza2lwcGVkIGJlY2F1c2Ugb2YgaW5zdHJ1bWVudGVyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGtnID0gdGhpcy5sb2FkRGVwZW5kZW5jeSgpO1xuXG4gICAgaWYgKCFwa2cpIHtcbiAgICAgIGNvbnN0IG1vZHVsZU5hbWUgPSB0aGlzLl91c2VNb25nb29zZSA/ICdtb25nb29zZScgOiAnbW9uZ29kYic7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoYE1vbmdvIEludGVncmF0aW9uIHdhcyB1bmFibGUgdG8gcmVxdWlyZSBcXGAke21vZHVsZU5hbWV9XFxgIHBhY2thZ2UuYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5zdHJ1bWVudE9wZXJhdGlvbnMocGtnLkNvbGxlY3Rpb24sIHRoaXMuX29wZXJhdGlvbnMsIGdldEN1cnJlbnRIdWIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdGNoZXMgb3JpZ2luYWwgY29sbGVjdGlvbiBtZXRob2RzXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgIF9pbnN0cnVtZW50T3BlcmF0aW9ucyhjb2xsZWN0aW9uLCBvcGVyYXRpb25zLCBnZXRDdXJyZW50SHViKSB7XG4gICAgb3BlcmF0aW9ucy5mb3JFYWNoKChvcGVyYXRpb24pID0+IHRoaXMuX3BhdGNoT3BlcmF0aW9uKGNvbGxlY3Rpb24sIG9wZXJhdGlvbiwgZ2V0Q3VycmVudEh1YikpO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdGNoZXMgb3JpZ2luYWwgY29sbGVjdGlvbiB0byB1dGlsaXplIG91ciB0cmFjaW5nIGZ1bmN0aW9uYWxpdHlcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgX3BhdGNoT3BlcmF0aW9uKGNvbGxlY3Rpb24sIG9wZXJhdGlvbiwgZ2V0Q3VycmVudEh1Yikge1xuICAgIGlmICghKG9wZXJhdGlvbiBpbiBjb2xsZWN0aW9uLnByb3RvdHlwZSkpIHJldHVybjtcblxuICAgIGNvbnN0IGdldFNwYW5Db250ZXh0ID0gdGhpcy5fZ2V0U3BhbkNvbnRleHRGcm9tT3BlcmF0aW9uQXJndW1lbnRzLmJpbmQodGhpcyk7XG5cbiAgICBmaWxsKGNvbGxlY3Rpb24ucHJvdG90eXBlLCBvcGVyYXRpb24sIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBjb25zdCBodWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBjb25zdCBzY29wZSA9IGh1Yi5nZXRTY29wZSgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3QgY2xpZW50ID0gaHViLmdldENsaWVudCgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3QgcGFyZW50U3BhbiA9IHNjb3BlLmdldFNwYW4oKTtcblxuICAgICAgICBjb25zdCBzZW5kRGVmYXVsdFBpaSA9IF9vcHRpb25hbENoYWluKFtjbGllbnQsICdvcHRpb25hbEFjY2VzcycsIF8yID0+IF8yLmdldE9wdGlvbnMsICdjYWxsJywgXzMgPT4gXzMoKSwgJ2FjY2VzcycsIF80ID0+IF80LnNlbmREZWZhdWx0UGlpXSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIG9wZXJhdGlvbiB3YXMgcGFzc2VkIGEgY2FsbGJhY2suIChtYXBSZWR1Y2UgcmVxdWlyZXMgYSBkaWZmZXJlbnQgY2hlY2ssIGFzXG4gICAgICAgIC8vIGl0cyAobm9uLWNhbGxiYWNrKSBhcmd1bWVudHMgY2FuIGFsc28gYmUgZnVuY3Rpb25zLilcbiAgICAgICAgaWYgKHR5cGVvZiBsYXN0QXJnICE9PSAnZnVuY3Rpb24nIHx8IChvcGVyYXRpb24gPT09ICdtYXBSZWR1Y2UnICYmIGFyZ3MubGVuZ3RoID09PSAyKSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgIGNvbnN0IHNwYW4gPSBfb3B0aW9uYWxDaGFpbihbcGFyZW50U3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzUgPT4gXzUuc3RhcnRDaGlsZCwgJ2NhbGwnLCBfNiA9PiBfNihnZXRTcGFuQ29udGV4dCh0aGlzLCBvcGVyYXRpb24sIGFyZ3MsIHNlbmREZWZhdWx0UGlpKSldKTtcbiAgICAgICAgICBjb25zdCBtYXliZVByb21pc2VPckN1cnNvciA9IG9yaWcuY2FsbCh0aGlzLCAuLi5hcmdzKTtcblxuICAgICAgICAgIGlmIChpc1RoZW5hYmxlKG1heWJlUHJvbWlzZU9yQ3Vyc29yKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZU9yQ3Vyc29yLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICBfb3B0aW9uYWxDaGFpbihbc3BhbiwgJ29wdGlvbmFsQWNjZXNzJywgXzcgPT4gXzcuZW5kLCAnY2FsbCcsIF84ID0+IF84KCldKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiB0aGUgb3BlcmF0aW9uIHJldHVybnMgYSBDdXJzb3JcbiAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGF0dGFjaCBhIGxpc3RlbmVyIHRvIGl0IHRvIGZpbmlzaCB0aGUgc3BhbiB3aGVuIHRoZSBjdXJzb3IgaXMgY2xvc2VkLlxuICAgICAgICAgIGVsc2UgaWYgKGlzQ3Vyc29yKG1heWJlUHJvbWlzZU9yQ3Vyc29yKSkge1xuICAgICAgICAgICAgY29uc3QgY3Vyc29yID0gbWF5YmVQcm9taXNlT3JDdXJzb3IgO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjdXJzb3Iub25jZSgnY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3NwYW4sICdvcHRpb25hbEFjY2VzcycsIF85ID0+IF85LmVuZCwgJ2NhbGwnLCBfMTAgPT4gXzEwKCldKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJzb3IgaXMgYWxyZWFkeSBjbG9zZWQsIGBvbmNlYCB3aWxsIHRocm93IGFuIGVycm9yLiBJbiB0aGF0IGNhc2UsIHdlIGNhblxuICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhlIHNwYW4gaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgIF9vcHRpb25hbENoYWluKFtzcGFuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTEgPT4gXzExLmVuZCwgJ2NhbGwnLCBfMTIgPT4gXzEyKCldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGN1cnNvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3NwYW4sICdvcHRpb25hbEFjY2VzcycsIF8xMyA9PiBfMTMuZW5kLCAnY2FsbCcsIF8xNCA9PiBfMTQoKV0pO1xuICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZU9yQ3Vyc29yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBjb25zdCBzcGFuID0gX29wdGlvbmFsQ2hhaW4oW3BhcmVudFNwYW4sICdvcHRpb25hbEFjY2VzcycsIF8xNSA9PiBfMTUuc3RhcnRDaGlsZCwgJ2NhbGwnLCBfMTYgPT4gXzE2KGdldFNwYW5Db250ZXh0KHRoaXMsIG9wZXJhdGlvbiwgYXJncy5zbGljZSgwLCAtMSkpKV0pO1xuXG4gICAgICAgIHJldHVybiBvcmlnLmNhbGwodGhpcywgLi4uYXJncy5zbGljZSgwLCAtMSksIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgIF9vcHRpb25hbENoYWluKFtzcGFuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTcgPT4gXzE3LmVuZCwgJ2NhbGwnLCBfMTggPT4gXzE4KCldKTtcbiAgICAgICAgICBsYXN0QXJnKGVyciwgcmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm0gYSBTcGFuQ29udGV4dCBiYXNlZCBvbiB0aGUgdXNlciBpbnB1dCB0byBhIGdpdmVuIG9wZXJhdGlvbi5cbiAgICovXG4gICBfZ2V0U3BhbkNvbnRleHRGcm9tT3BlcmF0aW9uQXJndW1lbnRzKFxuICAgIGNvbGxlY3Rpb24sXG4gICAgb3BlcmF0aW9uLFxuICAgIGFyZ3MsXG4gICAgc2VuZERlZmF1bHRQaWkgPSBmYWxzZSxcbiAgKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICdkYi5zeXN0ZW0nOiAnbW9uZ29kYicsXG4gICAgICAnZGIubmFtZSc6IGNvbGxlY3Rpb24uZGJOYW1lLFxuICAgICAgJ2RiLm9wZXJhdGlvbic6IG9wZXJhdGlvbixcbiAgICAgICdkYi5tb25nb2RiLmNvbGxlY3Rpb24nOiBjb2xsZWN0aW9uLmNvbGxlY3Rpb25OYW1lLFxuICAgIH07XG4gICAgY29uc3Qgc3BhbkNvbnRleHQgPSB7XG4gICAgICBvcDogJ2RiJyxcbiAgICAgIC8vIFRPRE8gdjg6IFVzZSBgJHtjb2xsZWN0aW9uLmNvbGxlY3Rpb25OYW1lfS4ke29wZXJhdGlvbn1gXG4gICAgICBvcmlnaW46ICdhdXRvLmRiLm1vbmdvJyxcbiAgICAgIGRlc2NyaXB0aW9uOiBvcGVyYXRpb24sXG4gICAgICBkYXRhLFxuICAgIH07XG5cbiAgICAvLyBJZiB0aGUgb3BlcmF0aW9uIHRha2VzIG5vIGFyZ3VtZW50cyBiZXNpZGVzIGBvcHRpb25zYCBhbmQgYGNhbGxiYWNrYCwgb3IgaWYgYXJndW1lbnRcbiAgICAvLyBjb2xsZWN0aW9uIGlzIGRpc2FibGVkIGZvciB0aGlzIG9wZXJhdGlvbiwganVzdCByZXR1cm4gZWFybHkuXG4gICAgY29uc3Qgc2lnbmF0dXJlID0gT1BFUkFUSU9OX1NJR05BVFVSRVNbb3BlcmF0aW9uXTtcbiAgICBjb25zdCBzaG91bGREZXNjcmliZSA9IEFycmF5LmlzQXJyYXkodGhpcy5fZGVzY3JpYmVPcGVyYXRpb25zKVxuICAgICAgPyB0aGlzLl9kZXNjcmliZU9wZXJhdGlvbnMuaW5jbHVkZXMob3BlcmF0aW9uKVxuICAgICAgOiB0aGlzLl9kZXNjcmliZU9wZXJhdGlvbnM7XG5cbiAgICBpZiAoIXNpZ25hdHVyZSB8fCAhc2hvdWxkRGVzY3JpYmUgfHwgIXNlbmREZWZhdWx0UGlpKSB7XG4gICAgICByZXR1cm4gc3BhbkNvbnRleHQ7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYG1hcFJlZHVjZWAsIGFzIHRoZSBvbmx5IG9uZSBhY2NlcHRpbmcgZnVuY3Rpb25zIGFzIGFyZ3VtZW50cy5cbiAgICAgIGlmIChvcGVyYXRpb24gPT09ICdtYXBSZWR1Y2UnKSB7XG4gICAgICAgIGNvbnN0IFttYXAsIHJlZHVjZV0gPSBhcmdzIDtcbiAgICAgICAgZGF0YVtzaWduYXR1cmVbMF1dID0gdHlwZW9mIG1hcCA9PT0gJ3N0cmluZycgPyBtYXAgOiBtYXAubmFtZSB8fCAnPGFub255bW91cz4nO1xuICAgICAgICBkYXRhW3NpZ25hdHVyZVsxXV0gPSB0eXBlb2YgcmVkdWNlID09PSAnc3RyaW5nJyA/IHJlZHVjZSA6IHJlZHVjZS5uYW1lIHx8ICc8YW5vbnltb3VzPic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpZ25hdHVyZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGRhdGFbYGRiLm1vbmdvZGIuJHtzaWduYXR1cmVbaV19YF0gPSBKU09OLnN0cmluZ2lmeShhcmdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKF9vTykge1xuICAgICAgLy8gbm8tZW1wdHlcbiAgICB9XG5cbiAgICByZXR1cm4gc3BhbkNvbnRleHQ7XG4gIH1cbn1Nb25nby5fX2luaXRTdGF0aWMoKTtcblxuZXhwb3J0IHsgTW9uZ28gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vbmdvLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/mongo.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/mysql.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/mysql.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Mysql: () => (/* binding */ Mysql)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/node.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/object.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\n/** Tracing integration for node-mysql package */\nclass Mysql  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Mysql';}\n\n  /**\n   * @inheritDoc\n   */\n\n   constructor() {\n    this.name = Mysql.id;\n  }\n\n  /** @inheritdoc */\n   loadDependency() {\n    return (this._module = this._module || (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.loadModule)('mysql/lib/Connection.js'));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__.shouldDisableAutoInstrumentation)(getCurrentHub)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.log('Mysql Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    const pkg = this.loadDependency();\n\n    if (!pkg) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('Mysql Integration was unable to require `mysql` package.');\n      return;\n    }\n\n    let mySqlConfig = undefined;\n\n    try {\n      pkg.prototype.connect = new Proxy(pkg.prototype.connect, {\n        apply(wrappingTarget, thisArg, args) {\n          if (!mySqlConfig) {\n            mySqlConfig = thisArg.config;\n          }\n          return wrappingTarget.apply(thisArg, args);\n        },\n      });\n    } catch (e) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('Mysql Integration was unable to instrument `mysql` config.');\n    }\n\n    function spanDataFromConfig() {\n      if (!mySqlConfig) {\n        return {};\n      }\n      return {\n        'server.address': mySqlConfig.host,\n        'server.port': mySqlConfig.port,\n        'db.user': mySqlConfig.user,\n      };\n    }\n\n    function finishSpan(span) {\n      if (!span) {\n        return;\n      }\n\n      const data = spanDataFromConfig();\n      Object.keys(data).forEach(key => {\n        span.setAttribute(key, data[key]);\n      });\n\n      span.end();\n    }\n\n    // The original function will have one of these signatures:\n    //    function (callback) => void\n    //    function (options, callback) => void\n    //    function (options, values, callback) => void\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__.fill)(pkg, 'createQuery', function (orig) {\n      return function ( options, values, callback) {\n        // eslint-disable-next-line deprecation/deprecation\n        const scope = getCurrentHub().getScope();\n        // eslint-disable-next-line deprecation/deprecation\n        const parentSpan = scope.getSpan();\n\n        // eslint-disable-next-line deprecation/deprecation\n        const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__._optionalChain)([parentSpan, 'optionalAccess', _2 => _2.startChild, 'call', _3 => _3({\n          description: typeof options === 'string' ? options : (options ).sql,\n          op: 'db',\n          origin: 'auto.db.mysql',\n          data: {\n            'db.system': 'mysql',\n          },\n        })]);\n\n        if (typeof callback === 'function') {\n          return orig.call(this, options, values, function (err, result, fields) {\n            finishSpan(span);\n            callback(err, result, fields);\n          });\n        }\n\n        if (typeof values === 'function') {\n          return orig.call(this, options, function (err, result, fields) {\n            finishSpan(span);\n            values(err, result, fields);\n          });\n        }\n\n        // streaming, no callback!\n        const query = orig.call(this, options, values) ;\n\n        query.on('end', () => {\n          finishSpan(span);\n        });\n\n        return query;\n      };\n    });\n  }\n}Mysql.__initStatic();\n\n\n//# sourceMappingURL=mysql.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9teXNxbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStDO0FBQ1U7QUFDQztBQUNlOztBQUV6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCOztBQUUxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMseURBQVU7QUFDckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0ZBQWdDO0FBQ3hDLE1BQU0sK0RBQVcsSUFBSSxpREFBTTtBQUMzQjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsTUFBTSwrREFBVyxJQUFJLGlEQUFNO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLE1BQU07QUFDTixNQUFNLCtEQUFXLElBQUksaURBQU07QUFDM0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtREFBSTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsNkRBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7O0FBRWdCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanNtX2JhbmtpbmcvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9teXNxbC5qcz85NjRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9vcHRpb25hbENoYWluIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBsb2FkTW9kdWxlLCBsb2dnZXIsIGZpbGwgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IERFQlVHX0JVSUxEIH0gZnJvbSAnLi4vLi4vY29tbW9uL2RlYnVnLWJ1aWxkLmpzJztcbmltcG9ydCB7IHNob3VsZERpc2FibGVBdXRvSW5zdHJ1bWVudGF0aW9uIH0gZnJvbSAnLi91dGlscy9ub2RlLXV0aWxzLmpzJztcblxuLyoqIFRyYWNpbmcgaW50ZWdyYXRpb24gZm9yIG5vZGUtbXlzcWwgcGFja2FnZSAqL1xuY2xhc3MgTXlzcWwgIHtcbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuICAgc3RhdGljIF9faW5pdFN0YXRpYygpIHt0aGlzLmlkID0gJ015c3FsJzt9XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuXG4gICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm5hbWUgPSBNeXNxbC5pZDtcbiAgfVxuXG4gIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgbG9hZERlcGVuZGVuY3koKSB7XG4gICAgcmV0dXJuICh0aGlzLl9tb2R1bGUgPSB0aGlzLl9tb2R1bGUgfHwgbG9hZE1vZHVsZSgnbXlzcWwvbGliL0Nvbm5lY3Rpb24uanMnKSk7XG4gIH1cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgc2V0dXBPbmNlKF8sIGdldEN1cnJlbnRIdWIpIHtcbiAgICBpZiAoc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24oZ2V0Q3VycmVudEh1YikpIHtcbiAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5sb2coJ015c3FsIEludGVncmF0aW9uIGlzIHNraXBwZWQgYmVjYXVzZSBvZiBpbnN0cnVtZW50ZXIgY29uZmlndXJhdGlvbi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwa2cgPSB0aGlzLmxvYWREZXBlbmRlbmN5KCk7XG5cbiAgICBpZiAoIXBrZykge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKCdNeXNxbCBJbnRlZ3JhdGlvbiB3YXMgdW5hYmxlIHRvIHJlcXVpcmUgYG15c3FsYCBwYWNrYWdlLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBteVNxbENvbmZpZyA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBwa2cucHJvdG90eXBlLmNvbm5lY3QgPSBuZXcgUHJveHkocGtnLnByb3RvdHlwZS5jb25uZWN0LCB7XG4gICAgICAgIGFwcGx5KHdyYXBwaW5nVGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgICAgICAgaWYgKCFteVNxbENvbmZpZykge1xuICAgICAgICAgICAgbXlTcWxDb25maWcgPSB0aGlzQXJnLmNvbmZpZztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdyYXBwaW5nVGFyZ2V0LmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKCdNeXNxbCBJbnRlZ3JhdGlvbiB3YXMgdW5hYmxlIHRvIGluc3RydW1lbnQgYG15c3FsYCBjb25maWcuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3BhbkRhdGFGcm9tQ29uZmlnKCkge1xuICAgICAgaWYgKCFteVNxbENvbmZpZykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAnc2VydmVyLmFkZHJlc3MnOiBteVNxbENvbmZpZy5ob3N0LFxuICAgICAgICAnc2VydmVyLnBvcnQnOiBteVNxbENvbmZpZy5wb3J0LFxuICAgICAgICAnZGIudXNlcic6IG15U3FsQ29uZmlnLnVzZXIsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmlzaFNwYW4oc3Bhbikge1xuICAgICAgaWYgKCFzcGFuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IHNwYW5EYXRhRnJvbUNvbmZpZygpO1xuICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZShrZXksIGRhdGFba2V5XSk7XG4gICAgICB9KTtcblxuICAgICAgc3Bhbi5lbmQoKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgb3JpZ2luYWwgZnVuY3Rpb24gd2lsbCBoYXZlIG9uZSBvZiB0aGVzZSBzaWduYXR1cmVzOlxuICAgIC8vICAgIGZ1bmN0aW9uIChjYWxsYmFjaykgPT4gdm9pZFxuICAgIC8vICAgIGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykgPT4gdm9pZFxuICAgIC8vICAgIGZ1bmN0aW9uIChvcHRpb25zLCB2YWx1ZXMsIGNhbGxiYWNrKSA9PiB2b2lkXG4gICAgZmlsbChwa2csICdjcmVhdGVRdWVyeScsIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCBvcHRpb25zLCB2YWx1ZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBjb25zdCBzY29wZSA9IGdldEN1cnJlbnRIdWIoKS5nZXRTY29wZSgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3QgcGFyZW50U3BhbiA9IHNjb3BlLmdldFNwYW4oKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3Qgc3BhbiA9IF9vcHRpb25hbENoYWluKFtwYXJlbnRTcGFuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMiA9PiBfMi5zdGFydENoaWxkLCAnY2FsbCcsIF8zID0+IF8zKHtcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnID8gb3B0aW9ucyA6IChvcHRpb25zICkuc3FsLFxuICAgICAgICAgIG9wOiAnZGInLFxuICAgICAgICAgIG9yaWdpbjogJ2F1dG8uZGIubXlzcWwnLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdkYi5zeXN0ZW0nOiAnbXlzcWwnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pXSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBvcmlnLmNhbGwodGhpcywgb3B0aW9ucywgdmFsdWVzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQsIGZpZWxkcykge1xuICAgICAgICAgICAgZmluaXNoU3BhbihzcGFuKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0LCBmaWVsZHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCwgZmllbGRzKSB7XG4gICAgICAgICAgICBmaW5pc2hTcGFuKHNwYW4pO1xuICAgICAgICAgICAgdmFsdWVzKGVyciwgcmVzdWx0LCBmaWVsZHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RyZWFtaW5nLCBubyBjYWxsYmFjayFcbiAgICAgICAgY29uc3QgcXVlcnkgPSBvcmlnLmNhbGwodGhpcywgb3B0aW9ucywgdmFsdWVzKSA7XG5cbiAgICAgICAgcXVlcnkub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICBmaW5pc2hTcGFuKHNwYW4pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59TXlzcWwuX19pbml0U3RhdGljKCk7XG5cbmV4cG9ydCB7IE15c3FsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1teXNxbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/mysql.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/postgres.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/postgres.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Postgres: () => (/* binding */ Postgres)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/node.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/object.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/is.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\n/** Tracing integration for node-postgres package */\nclass Postgres  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Postgres';}\n\n  /**\n   * @inheritDoc\n   */\n\n   constructor(options = {}) {\n    this.name = Postgres.id;\n    this._usePgNative = !!options.usePgNative;\n    this._module = options.module;\n  }\n\n  /** @inheritdoc */\n   loadDependency() {\n    return (this._module = this._module || (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.loadModule)('pg'));\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line deprecation/deprecation\n   setupOnce(_, getCurrentHub) {\n    if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__.shouldDisableAutoInstrumentation)(getCurrentHub)) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.log('Postgres Integration is skipped because of instrumenter configuration.');\n      return;\n    }\n\n    const pkg = this.loadDependency();\n\n    if (!pkg) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error('Postgres Integration was unable to require `pg` package.');\n      return;\n    }\n\n    const Client = this._usePgNative ? (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__._optionalChain)([pkg, 'access', _2 => _2.native, 'optionalAccess', _3 => _3.Client]) : pkg.Client;\n\n    if (!Client) {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_2__.DEBUG_BUILD && _sentry_utils__WEBPACK_IMPORTED_MODULE_3__.logger.error(\"Postgres Integration was unable to access 'pg-native' bindings.\");\n      return;\n    }\n\n    /**\n     * function (query, callback) => void\n     * function (query, params, callback) => void\n     * function (query) => Promise\n     * function (query, params) => Promise\n     * function (pg.Cursor) => pg.Cursor\n     */\n    (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_5__.fill)(Client.prototype, 'query', function (orig) {\n      return function ( config, values, callback) {\n        // eslint-disable-next-line deprecation/deprecation\n        const scope = getCurrentHub().getScope();\n        // eslint-disable-next-line deprecation/deprecation\n        const parentSpan = scope.getSpan();\n\n        const data = {\n          'db.system': 'postgresql',\n        };\n\n        try {\n          if (this.database) {\n            data['db.name'] = this.database;\n          }\n          if (this.host) {\n            data['server.address'] = this.host;\n          }\n          if (this.port) {\n            data['server.port'] = this.port;\n          }\n          if (this.user) {\n            data['db.user'] = this.user;\n          }\n        } catch (e) {\n          // ignore\n        }\n\n        // eslint-disable-next-line deprecation/deprecation\n        const span = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__._optionalChain)([parentSpan, 'optionalAccess', _4 => _4.startChild, 'call', _5 => _5({\n          description: typeof config === 'string' ? config : (config ).text,\n          op: 'db',\n          origin: 'auto.db.postgres',\n          data,\n        })]);\n\n        if (typeof callback === 'function') {\n          return orig.call(this, config, values, function (err, result) {\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__._optionalChain)([span, 'optionalAccess', _6 => _6.end, 'call', _7 => _7()]);\n            callback(err, result);\n          });\n        }\n\n        if (typeof values === 'function') {\n          return orig.call(this, config, function (err, result) {\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__._optionalChain)([span, 'optionalAccess', _8 => _8.end, 'call', _9 => _9()]);\n            values(err, result);\n          });\n        }\n\n        const rv = typeof values !== 'undefined' ? orig.call(this, config, values) : orig.call(this, config);\n\n        if ((0,_sentry_utils__WEBPACK_IMPORTED_MODULE_6__.isThenable)(rv)) {\n          return rv.then((res) => {\n            (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__._optionalChain)([span, 'optionalAccess', _10 => _10.end, 'call', _11 => _11()]);\n            return res;\n          });\n        }\n\n        (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_4__._optionalChain)([span, 'optionalAccess', _12 => _12.end, 'call', _13 => _13()]);\n        return rv;\n      };\n    });\n  }\n}Postgres.__initStatic();\n\n\n//# sourceMappingURL=postgres.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9wb3N0Z3Jlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErQztBQUNzQjtBQUNYO0FBQ2U7O0FBRXpFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyx5REFBVTtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzRkFBZ0M7QUFDeEMsTUFBTSwrREFBVyxJQUFJLGlEQUFNO0FBQzNCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxNQUFNLCtEQUFXLElBQUksaURBQU07QUFDM0I7QUFDQTs7QUFFQSx1Q0FBdUMsNkRBQWM7O0FBRXJEO0FBQ0EsTUFBTSwrREFBVyxJQUFJLGlEQUFNO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLG1EQUFJO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQiw2REFBYztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLFlBQVksNkRBQWM7QUFDMUI7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBLFlBQVksNkRBQWM7QUFDMUI7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7O0FBRUEsWUFBWSx5REFBVTtBQUN0QjtBQUNBLFlBQVksNkRBQWM7QUFDMUI7QUFDQSxXQUFXO0FBQ1g7O0FBRUEsUUFBUSw2REFBYztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQzs7QUFFbUI7QUFDcEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc21fYmFua2luZy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5LWludGVybmFsL3RyYWNpbmcvZXNtL25vZGUvaW50ZWdyYXRpb25zL3Bvc3RncmVzLmpzPzY5N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX29wdGlvbmFsQ2hhaW4gfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGxvYWRNb2R1bGUsIGxvZ2dlciwgZmlsbCwgaXNUaGVuYWJsZSB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgREVCVUdfQlVJTEQgfSBmcm9tICcuLi8uLi9jb21tb24vZGVidWctYnVpbGQuanMnO1xuaW1wb3J0IHsgc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24gfSBmcm9tICcuL3V0aWxzL25vZGUtdXRpbHMuanMnO1xuXG4vKiogVHJhY2luZyBpbnRlZ3JhdGlvbiBmb3Igbm9kZS1wb3N0Z3JlcyBwYWNrYWdlICovXG5jbGFzcyBQb3N0Z3JlcyAge1xuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMuaWQgPSAnUG9zdGdyZXMnO31cblxuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG5cbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IFBvc3RncmVzLmlkO1xuICAgIHRoaXMuX3VzZVBnTmF0aXZlID0gISFvcHRpb25zLnVzZVBnTmF0aXZlO1xuICAgIHRoaXMuX21vZHVsZSA9IG9wdGlvbnMubW9kdWxlO1xuICB9XG5cbiAgLyoqIEBpbmhlcml0ZG9jICovXG4gICBsb2FkRGVwZW5kZW5jeSgpIHtcbiAgICByZXR1cm4gKHRoaXMuX21vZHVsZSA9IHRoaXMuX21vZHVsZSB8fCBsb2FkTW9kdWxlKCdwZycpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICBzZXR1cE9uY2UoXywgZ2V0Q3VycmVudEh1Yikge1xuICAgIGlmIChzaG91bGREaXNhYmxlQXV0b0luc3RydW1lbnRhdGlvbihnZXRDdXJyZW50SHViKSkge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmxvZygnUG9zdGdyZXMgSW50ZWdyYXRpb24gaXMgc2tpcHBlZCBiZWNhdXNlIG9mIGluc3RydW1lbnRlciBjb25maWd1cmF0aW9uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBrZyA9IHRoaXMubG9hZERlcGVuZGVuY3koKTtcblxuICAgIGlmICghcGtnKSB7XG4gICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIuZXJyb3IoJ1Bvc3RncmVzIEludGVncmF0aW9uIHdhcyB1bmFibGUgdG8gcmVxdWlyZSBgcGdgIHBhY2thZ2UuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgQ2xpZW50ID0gdGhpcy5fdXNlUGdOYXRpdmUgPyBfb3B0aW9uYWxDaGFpbihbcGtnLCAnYWNjZXNzJywgXzIgPT4gXzIubmF0aXZlLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMyA9PiBfMy5DbGllbnRdKSA6IHBrZy5DbGllbnQ7XG5cbiAgICBpZiAoIUNsaWVudCkge1xuICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKFwiUG9zdGdyZXMgSW50ZWdyYXRpb24gd2FzIHVuYWJsZSB0byBhY2Nlc3MgJ3BnLW5hdGl2ZScgYmluZGluZ3MuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2spID0+IHZvaWRcbiAgICAgKiBmdW5jdGlvbiAocXVlcnksIHBhcmFtcywgY2FsbGJhY2spID0+IHZvaWRcbiAgICAgKiBmdW5jdGlvbiAocXVlcnkpID0+IFByb21pc2VcbiAgICAgKiBmdW5jdGlvbiAocXVlcnksIHBhcmFtcykgPT4gUHJvbWlzZVxuICAgICAqIGZ1bmN0aW9uIChwZy5DdXJzb3IpID0+IHBnLkN1cnNvclxuICAgICAqL1xuICAgIGZpbGwoQ2xpZW50LnByb3RvdHlwZSwgJ3F1ZXJ5JywgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoIGNvbmZpZywgdmFsdWVzLCBjYWxsYmFjaykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50SHViKCkuZ2V0U2NvcGUoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIGNvbnN0IHBhcmVudFNwYW4gPSBzY29wZS5nZXRTcGFuKCk7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAnZGIuc3lzdGVtJzogJ3Bvc3RncmVzcWwnLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHRoaXMuZGF0YWJhc2UpIHtcbiAgICAgICAgICAgIGRhdGFbJ2RiLm5hbWUnXSA9IHRoaXMuZGF0YWJhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmhvc3QpIHtcbiAgICAgICAgICAgIGRhdGFbJ3NlcnZlci5hZGRyZXNzJ10gPSB0aGlzLmhvc3Q7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLnBvcnQpIHtcbiAgICAgICAgICAgIGRhdGFbJ3NlcnZlci5wb3J0J10gPSB0aGlzLnBvcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLnVzZXIpIHtcbiAgICAgICAgICAgIGRhdGFbJ2RiLnVzZXInXSA9IHRoaXMudXNlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBjb25zdCBzcGFuID0gX29wdGlvbmFsQ2hhaW4oW3BhcmVudFNwYW4sICdvcHRpb25hbEFjY2VzcycsIF80ID0+IF80LnN0YXJ0Q2hpbGQsICdjYWxsJywgXzUgPT4gXzUoe1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IGNvbmZpZyA6IChjb25maWcgKS50ZXh0LFxuICAgICAgICAgIG9wOiAnZGInLFxuICAgICAgICAgIG9yaWdpbjogJ2F1dG8uZGIucG9zdGdyZXMnLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgIH0pXSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBvcmlnLmNhbGwodGhpcywgY29uZmlnLCB2YWx1ZXMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3NwYW4sICdvcHRpb25hbEFjY2VzcycsIF82ID0+IF82LmVuZCwgJ2NhbGwnLCBfNyA9PiBfNygpXSk7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBvcmlnLmNhbGwodGhpcywgY29uZmlnLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgIF9vcHRpb25hbENoYWluKFtzcGFuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfOCA9PiBfOC5lbmQsICdjYWxsJywgXzkgPT4gXzkoKV0pO1xuICAgICAgICAgICAgdmFsdWVzKGVyciwgcmVzdWx0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJ2ID0gdHlwZW9mIHZhbHVlcyAhPT0gJ3VuZGVmaW5lZCcgPyBvcmlnLmNhbGwodGhpcywgY29uZmlnLCB2YWx1ZXMpIDogb3JpZy5jYWxsKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKGlzVGhlbmFibGUocnYpKSB7XG4gICAgICAgICAgcmV0dXJuIHJ2LnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgX29wdGlvbmFsQ2hhaW4oW3NwYW4sICdvcHRpb25hbEFjY2VzcycsIF8xMCA9PiBfMTAuZW5kLCAnY2FsbCcsIF8xMSA9PiBfMTEoKV0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9vcHRpb25hbENoYWluKFtzcGFuLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMTIgPT4gXzEyLmVuZCwgJ2NhbGwnLCBfMTMgPT4gXzEzKCldKTtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufVBvc3RncmVzLl9faW5pdFN0YXRpYygpO1xuXG5leHBvcnQgeyBQb3N0Z3JlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9zdGdyZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/postgres.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/prisma.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/prisma.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Prisma: () => (/* binding */ Prisma)\n/* harmony export */ });\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/core */ \"(rsc)/./node_modules/@sentry/core/esm/hub.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sentry/core */ \"(rsc)/./node_modules/@sentry/core/esm/tracing/trace.js\");\n/* harmony import */ var _sentry_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sentry/core */ \"(rsc)/./node_modules/@sentry/core/esm/semanticAttributes.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/object.js\");\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/logger.js\");\n/* harmony import */ var _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/debug-build.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/common/debug-build.js\");\n/* harmony import */ var _utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/node-utils.js */ \"(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\");\n\n\n\n\n\nfunction isValidPrismaClient(possibleClient) {\n  return !!possibleClient && !!(possibleClient )['$use'];\n}\n\n/** Tracing integration for @prisma/client package */\nclass Prisma  {\n  /**\n   * @inheritDoc\n   */\n   static __initStatic() {this.id = 'Prisma';}\n\n  /**\n   * @inheritDoc\n   */\n\n  /**\n   * @inheritDoc\n   */\n   constructor(options = {}) {\n    this.name = Prisma.id;\n\n    // We instrument the PrismaClient inside the constructor and not inside `setupOnce` because in some cases of server-side\n    // bundling (Next.js) multiple Prisma clients can be instantiated, even though users don't intend to. When instrumenting\n    // in setupOnce we can only ever instrument one client.\n    // https://github.com/getsentry/sentry-javascript/issues/7216#issuecomment-1602375012\n    // In the future we might explore providing a dedicated PrismaClient middleware instead of this hack.\n    if (isValidPrismaClient(options.client) && !options.client._sentryInstrumented) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__.addNonEnumerableProperty)(options.client , '_sentryInstrumented', true);\n\n      const clientData = {};\n      try {\n        const engineConfig = (options.client )._engineConfig;\n        if (engineConfig) {\n          const { activeProvider, clientVersion } = engineConfig;\n          if (activeProvider) {\n            clientData['db.system'] = activeProvider;\n          }\n          if (clientVersion) {\n            clientData['db.prisma.version'] = clientVersion;\n          }\n        }\n      } catch (e) {\n        // ignore\n      }\n\n      options.client.$use((params, next) => {\n        // eslint-disable-next-line deprecation/deprecation\n        if ((0,_utils_node_utils_js__WEBPACK_IMPORTED_MODULE_1__.shouldDisableAutoInstrumentation)(_sentry_core__WEBPACK_IMPORTED_MODULE_2__.getCurrentHub)) {\n          return next(params);\n        }\n\n        const action = params.action;\n        const model = params.model;\n\n        return (0,_sentry_core__WEBPACK_IMPORTED_MODULE_3__.startSpan)(\n          {\n            name: model ? `${model} ${action}` : action,\n            onlyIfParent: true,\n            op: 'db.prisma',\n            attributes: {\n              [_sentry_core__WEBPACK_IMPORTED_MODULE_4__.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]: 'auto.db.prisma',\n            },\n            data: { ...clientData, 'db.operation': action },\n          },\n          () => next(params),\n        );\n      });\n    } else {\n      _common_debug_build_js__WEBPACK_IMPORTED_MODULE_5__.DEBUG_BUILD &&\n        _sentry_utils__WEBPACK_IMPORTED_MODULE_6__.logger.warn('Unsupported Prisma client provided to PrismaIntegration. Provided client:', options.client);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setupOnce() {\n    // Noop - here for backwards compatibility\n  }\n} Prisma.__initStatic();\n\n\n//# sourceMappingURL=prisma.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy9wcmlzbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEY7QUFDekI7QUFDUDtBQUNlOztBQUV6RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjs7QUFFMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUVBQXdCOztBQUU5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixnQ0FBZ0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSxzRkFBZ0MsQ0FBQyx1REFBYTtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsZUFBZSx1REFBUztBQUN4QjtBQUNBLDZCQUE2QixPQUFPLEVBQUUsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQSxlQUFlLDBFQUFnQztBQUMvQyxhQUFhO0FBQ2Isb0JBQW9CLHVDQUF1QztBQUMzRCxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ04sTUFBTSwrREFBVztBQUNqQixRQUFRLGlEQUFNO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVnQjtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2pzbV9iYW5raW5nLy4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vbm9kZS9pbnRlZ3JhdGlvbnMvcHJpc21hLmpzPzk1YzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RhcnRTcGFuLCBTRU1BTlRJQ19BVFRSSUJVVEVfU0VOVFJZX09SSUdJTiwgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBhZGROb25FbnVtZXJhYmxlUHJvcGVydHksIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgREVCVUdfQlVJTEQgfSBmcm9tICcuLi8uLi9jb21tb24vZGVidWctYnVpbGQuanMnO1xuaW1wb3J0IHsgc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24gfSBmcm9tICcuL3V0aWxzL25vZGUtdXRpbHMuanMnO1xuXG5mdW5jdGlvbiBpc1ZhbGlkUHJpc21hQ2xpZW50KHBvc3NpYmxlQ2xpZW50KSB7XG4gIHJldHVybiAhIXBvc3NpYmxlQ2xpZW50ICYmICEhKHBvc3NpYmxlQ2xpZW50IClbJyR1c2UnXTtcbn1cblxuLyoqIFRyYWNpbmcgaW50ZWdyYXRpb24gZm9yIEBwcmlzbWEvY2xpZW50IHBhY2thZ2UgKi9cbmNsYXNzIFByaXNtYSAge1xuICAvKipcbiAgICogQGluaGVyaXREb2NcbiAgICovXG4gICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMuaWQgPSAnUHJpc21hJzt9XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0RG9jXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IFByaXNtYS5pZDtcblxuICAgIC8vIFdlIGluc3RydW1lbnQgdGhlIFByaXNtYUNsaWVudCBpbnNpZGUgdGhlIGNvbnN0cnVjdG9yIGFuZCBub3QgaW5zaWRlIGBzZXR1cE9uY2VgIGJlY2F1c2UgaW4gc29tZSBjYXNlcyBvZiBzZXJ2ZXItc2lkZVxuICAgIC8vIGJ1bmRsaW5nIChOZXh0LmpzKSBtdWx0aXBsZSBQcmlzbWEgY2xpZW50cyBjYW4gYmUgaW5zdGFudGlhdGVkLCBldmVuIHRob3VnaCB1c2VycyBkb24ndCBpbnRlbmQgdG8uIFdoZW4gaW5zdHJ1bWVudGluZ1xuICAgIC8vIGluIHNldHVwT25jZSB3ZSBjYW4gb25seSBldmVyIGluc3RydW1lbnQgb25lIGNsaWVudC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy83MjE2I2lzc3VlY29tbWVudC0xNjAyMzc1MDEyXG4gICAgLy8gSW4gdGhlIGZ1dHVyZSB3ZSBtaWdodCBleHBsb3JlIHByb3ZpZGluZyBhIGRlZGljYXRlZCBQcmlzbWFDbGllbnQgbWlkZGxld2FyZSBpbnN0ZWFkIG9mIHRoaXMgaGFjay5cbiAgICBpZiAoaXNWYWxpZFByaXNtYUNsaWVudChvcHRpb25zLmNsaWVudCkgJiYgIW9wdGlvbnMuY2xpZW50Ll9zZW50cnlJbnN0cnVtZW50ZWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICBhZGROb25FbnVtZXJhYmxlUHJvcGVydHkob3B0aW9ucy5jbGllbnQgLCAnX3NlbnRyeUluc3RydW1lbnRlZCcsIHRydWUpO1xuXG4gICAgICBjb25zdCBjbGllbnREYXRhID0ge307XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbmdpbmVDb25maWcgPSAob3B0aW9ucy5jbGllbnQgKS5fZW5naW5lQ29uZmlnO1xuICAgICAgICBpZiAoZW5naW5lQ29uZmlnKSB7XG4gICAgICAgICAgY29uc3QgeyBhY3RpdmVQcm92aWRlciwgY2xpZW50VmVyc2lvbiB9ID0gZW5naW5lQ29uZmlnO1xuICAgICAgICAgIGlmIChhY3RpdmVQcm92aWRlcikge1xuICAgICAgICAgICAgY2xpZW50RGF0YVsnZGIuc3lzdGVtJ10gPSBhY3RpdmVQcm92aWRlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNsaWVudFZlcnNpb24pIHtcbiAgICAgICAgICAgIGNsaWVudERhdGFbJ2RiLnByaXNtYS52ZXJzaW9uJ10gPSBjbGllbnRWZXJzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICAgIH1cblxuICAgICAgb3B0aW9ucy5jbGllbnQuJHVzZSgocGFyYW1zLCBuZXh0KSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBpZiAoc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24oZ2V0Q3VycmVudEh1YikpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChwYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWN0aW9uID0gcGFyYW1zLmFjdGlvbjtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBwYXJhbXMubW9kZWw7XG5cbiAgICAgICAgcmV0dXJuIHN0YXJ0U3BhbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBtb2RlbCA/IGAke21vZGVsfSAke2FjdGlvbn1gIDogYWN0aW9uLFxuICAgICAgICAgICAgb25seUlmUGFyZW50OiB0cnVlLFxuICAgICAgICAgICAgb3A6ICdkYi5wcmlzbWEnLFxuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICBbU0VNQU5USUNfQVRUUklCVVRFX1NFTlRSWV9PUklHSU5dOiAnYXV0by5kYi5wcmlzbWEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHsgLi4uY2xpZW50RGF0YSwgJ2RiLm9wZXJhdGlvbic6IGFjdGlvbiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgKCkgPT4gbmV4dChwYXJhbXMpLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERFQlVHX0JVSUxEICYmXG4gICAgICAgIGxvZ2dlci53YXJuKCdVbnN1cHBvcnRlZCBQcmlzbWEgY2xpZW50IHByb3ZpZGVkIHRvIFByaXNtYUludGVncmF0aW9uLiBQcm92aWRlZCBjbGllbnQ6Jywgb3B0aW9ucy5jbGllbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdERvY1xuICAgKi9cbiAgIHNldHVwT25jZSgpIHtcbiAgICAvLyBOb29wIC0gaGVyZSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgfVxufSBQcmlzbWEuX19pbml0U3RhdGljKCk7XG5cbmV4cG9ydCB7IFByaXNtYSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpc21hLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/prisma.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shouldDisableAutoInstrumentation: () => (/* binding */ shouldDisableAutoInstrumentation)\n/* harmony export */ });\n/* harmony import */ var _sentry_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/utils */ \"(rsc)/./node_modules/@sentry/utils/esm/buildPolyfills/_optionalChain.js\");\n\n\n/**\n * Check if Sentry auto-instrumentation should be disabled.\n *\n * @param getCurrentHub A method to fetch the current hub\n * @returns boolean\n */\n// eslint-disable-next-line deprecation/deprecation\nfunction shouldDisableAutoInstrumentation(getCurrentHub) {\n  // eslint-disable-next-line deprecation/deprecation\n  const clientOptions = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__._optionalChain)([getCurrentHub, 'call', _ => _(), 'access', _2 => _2.getClient, 'call', _3 => _3(), 'optionalAccess', _4 => _4.getOptions, 'call', _5 => _5()]);\n  const instrumenter = (0,_sentry_utils__WEBPACK_IMPORTED_MODULE_0__._optionalChain)([clientOptions, 'optionalAccess', _6 => _6.instrumenter]) || 'sentry';\n\n  return instrumenter !== 'sentry';\n}\n\n\n//# sourceMappingURL=node-utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS1pbnRlcm5hbC90cmFjaW5nL2VzbS9ub2RlL2ludGVncmF0aW9ucy91dGlscy9ub2RlLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDOztBQUUvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkRBQWM7QUFDdEMsdUJBQXVCLDZEQUFjOztBQUVyQztBQUNBOztBQUU0QztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2pzbV9iYW5raW5nLy4vbm9kZV9tb2R1bGVzL0BzZW50cnktaW50ZXJuYWwvdHJhY2luZy9lc20vbm9kZS9pbnRlZ3JhdGlvbnMvdXRpbHMvbm9kZS11dGlscy5qcz8zYjU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9vcHRpb25hbENoYWluIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5cbi8qKlxuICogQ2hlY2sgaWYgU2VudHJ5IGF1dG8taW5zdHJ1bWVudGF0aW9uIHNob3VsZCBiZSBkaXNhYmxlZC5cbiAqXG4gKiBAcGFyYW0gZ2V0Q3VycmVudEh1YiBBIG1ldGhvZCB0byBmZXRjaCB0aGUgY3VycmVudCBodWJcbiAqIEByZXR1cm5zIGJvb2xlYW5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG5mdW5jdGlvbiBzaG91bGREaXNhYmxlQXV0b0luc3RydW1lbnRhdGlvbihnZXRDdXJyZW50SHViKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICBjb25zdCBjbGllbnRPcHRpb25zID0gX29wdGlvbmFsQ2hhaW4oW2dldEN1cnJlbnRIdWIsICdjYWxsJywgXyA9PiBfKCksICdhY2Nlc3MnLCBfMiA9PiBfMi5nZXRDbGllbnQsICdjYWxsJywgXzMgPT4gXzMoKSwgJ29wdGlvbmFsQWNjZXNzJywgXzQgPT4gXzQuZ2V0T3B0aW9ucywgJ2NhbGwnLCBfNSA9PiBfNSgpXSk7XG4gIGNvbnN0IGluc3RydW1lbnRlciA9IF9vcHRpb25hbENoYWluKFtjbGllbnRPcHRpb25zLCAnb3B0aW9uYWxBY2Nlc3MnLCBfNiA9PiBfNi5pbnN0cnVtZW50ZXJdKSB8fCAnc2VudHJ5JztcblxuICByZXR1cm4gaW5zdHJ1bWVudGVyICE9PSAnc2VudHJ5Jztcbn1cblxuZXhwb3J0IHsgc2hvdWxkRGlzYWJsZUF1dG9JbnN0cnVtZW50YXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vZGUtdXRpbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sentry-internal/tracing/esm/node/integrations/utils/node-utils.js\n");

/***/ })

};
;